
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Starting the HPX runtime &#8212; HPX master documentation</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" type="text/css" />
    <link rel="stylesheet" href="../_static/css/theme_overrides.css" type="text/css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Launching and configuring HPX applications" href="launching_and_configuring_hpx_applications.html" />
    <link rel="prev" title="Creating HPX projects" href="creating_hpx_projects.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/HPX_STELLAR_blue.png" class="logo" alt="logo">
      
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p class="caption">
 <span class="caption-text">
  User documentation
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../quickstart.html">
   Quick start
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../examples.html">
   Examples
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/fibonacci_local.html">
     Asynchronous execution
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/fibonacci.html">
     Asynchronous execution with actions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/hello_world.html">
     Remote execution with actions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/accumulator.html">
     Components and actions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/interest_calculator.html">
     Dataflow
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/1d_stencil.html">
     Local to remote
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../manual.html">
   Manual
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="building_hpx.html">
     <em>
      HPX
     </em>
     build system
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="creating_hpx_projects.html">
     Creating
     <em>
      HPX
     </em>
     projects
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Starting the
     <em>
      HPX
     </em>
     runtime
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="launching_and_configuring_hpx_applications.html">
     Launching and configuring
     <em>
      HPX
     </em>
     applications
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="writing_single_node_hpx_applications.html">
     Writing single-node
     <em>
      HPX
     </em>
     applications
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="writing_distributed_hpx_applications.html">
     Writing distributed
     <em>
      HPX
     </em>
     applications
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="running_on_batch_systems.html">
     Running on batch systems
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="debugging_hpx_applications.html">
     Debugging
     <em>
      HPX
     </em>
     applications
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="optimizing_hpx_applications.html">
     Optimizing
     <em>
      HPX
     </em>
     applications
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="hpx_runtime_and_resources.html">
     <em>
      HPX
     </em>
     runtime and resources
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="miscellaneous.html">
     Miscellaneous
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="troubleshooting.html">
     Troubleshooting
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../terminology.html">
   Terminology
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../why_hpx.html">
   Why
   <em>
    HPX
   </em>
   ?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../additional_material.html">
   Additional material
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Modules
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../libs/overview.html">
   Overview
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../libs/core/modules.html">
     Core modules
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
    <label for="toctree-checkbox-4">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/affinity/docs/index.html">
       affinity
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/algorithms/docs/index.html">
       algorithms
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/allocator_support/docs/index.html">
       allocator_support
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/asio/docs/index.html">
       asio
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/assertion/docs/index.html">
       assertion
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/async_base/docs/index.html">
       async_base
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/async_combinators/docs/index.html">
       async_combinators
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/async_cuda/docs/index.html">
       async_cuda
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/async_local/docs/index.html">
       async_local
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/async_mpi/docs/index.html">
       async_mpi
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/batch_environments/docs/index.html">
       batch_environments
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/cache/docs/index.html">
       cache
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/command_line_handling_local/docs/index.html">
       command_line_handling_local
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/concepts/docs/index.html">
       concepts
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/concurrency/docs/index.html">
       concurrency
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/config/docs/index.html">
       config
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/config_registry/docs/index.html">
       config_registry
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/coroutines/docs/index.html">
       coroutines
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/datastructures/docs/index.html">
       datastructures
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/debugging/docs/index.html">
       debugging
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/errors/docs/index.html">
       errors
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/execution/docs/index.html">
       execution
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/execution_base/docs/index.html">
       execution_base
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/executors/docs/index.html">
       executors
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/filesystem/docs/index.html">
       filesystem
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/format/docs/index.html">
       format
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/functional/docs/index.html">
       functional
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/futures/docs/index.html">
       futures
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/hardware/docs/index.html">
       hardware
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/hashing/docs/index.html">
       hashing
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/include_local/docs/index.html">
       include_local
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/ini/docs/index.html">
       ini
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/init_runtime_local/docs/index.html">
       init_runtime_local
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/io_service/docs/index.html">
       io_service
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/iterator_support/docs/index.html">
       iterator_support
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/itt_notify/docs/index.html">
       itt_notify
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/lcos_local/docs/index.html">
       lcos_local
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/logging/docs/index.html">
       logging
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/memory/docs/index.html">
       memory
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/mpi_base/docs/index.html">
       mpi_base
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/pack_traversal/docs/index.html">
       pack_traversal
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/plugin/docs/index.html">
       plugin
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/prefix/docs/index.html">
       prefix
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/preprocessor/docs/index.html">
       preprocessor
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/program_options/docs/index.html">
       program_options
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/properties/docs/index.html">
       properties
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/resiliency/docs/index.html">
       resiliency
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/resource_partitioner/docs/index.html">
       resource_partitioner
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/runtime_configuration/docs/index.html">
       runtime_configuration
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/runtime_local/docs/index.html">
       runtime_local
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/schedulers/docs/index.html">
       schedulers
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/serialization/docs/index.html">
       serialization
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/static_reinit/docs/index.html">
       static_reinit
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/string_util/docs/index.html">
       string_util
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/synchronization/docs/index.html">
       synchronization
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/tag_invoke/docs/index.html">
       tag_invoke
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/testing/docs/index.html">
       testing
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/thread_pool_util/docs/index.html">
       thread_pool_util
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/thread_pools/docs/index.html">
       thread_pools
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/thread_support/docs/index.html">
       thread_support
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/threading/docs/index.html">
       threading
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/threading_base/docs/index.html">
       threading_base
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/threadmanager/docs/index.html">
       thread_manager
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/timed_execution/docs/index.html">
       timed_execution
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/timing/docs/index.html">
       timing
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/topology/docs/index.html">
       topology
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/type_support/docs/index.html">
       type_support
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/util/docs/index.html">
       util
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/core/version/docs/index.html">
       version
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../libs/full/modules.html">
     Main
     <em>
      HPX
     </em>
     modules
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
    <label for="toctree-checkbox-5">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/full/actions/docs/index.html">
       actions
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/full/actions_base/docs/index.html">
       actions_base
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/full/agas/docs/index.html">
       agas
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/full/agas_base/docs/index.html">
       agas_base
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/full/async_colocated/docs/index.html">
       async_colocated
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/full/async_distributed/docs/index.html">
       async
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/full/checkpoint/docs/index.html">
       checkpoint
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/full/checkpoint_base/docs/index.html">
       checkpoint_base
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/full/collectives/docs/index.html">
       collectives
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/full/command_line_handling/docs/index.html">
       command_line_handling
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/full/components/docs/index.html">
       components
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/full/components_base/docs/index.html">
       components_base
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/full/compute/docs/index.html">
       compute
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/full/compute_cuda/docs/index.html">
       compute_cuda
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/full/distribution_policies/docs/index.html">
       distribution_policies
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/full/executors_distributed/docs/index.html">
       executors_distributed
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/full/include/docs/index.html">
       include
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/full/init_runtime/docs/index.html">
       init_runtime
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/full/lcos_distributed/docs/index.html">
       lcos_distributed
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/full/naming/docs/index.html">
       naming
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/full/naming_base/docs/index.html">
       naming_base
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/full/performance_counters/docs/index.html">
       performance_counters
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/full/resiliency_distributed/docs/index.html">
       resiliency_distributed
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/full/runtime_components/docs/index.html">
       runtime_components
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/full/runtime_distributed/docs/index.html">
       runtime_distributed
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/full/segmented_algorithms/docs/index.html">
       segmented_algorithms
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../libs/full/statistics/docs/index.html">
       statistics
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Reference
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../api.html">
   API reference
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/public_api.html">
     Public API
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/full_api.html">
     Main
     <em>
      HPX
     </em>
     library
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/affinity/api.html">
     affinity
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/algorithms/api.html">
     algorithms
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/allocator_support/api.html">
     allocator_support
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/asio/api.html">
     asio
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/assertion/api.html">
     assertion
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/async_base/api.html">
     async_base
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/async_combinators/api.html">
     async_combinators
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/async_cuda/api.html">
     async_cuda
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/async_local/api.html">
     async_local
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/async_mpi/api.html">
     async_mpi
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/batch_environments/api.html">
     batch_environments
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/cache/api.html">
     cache
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/command_line_handling_local/api.html">
     command_line_handling_local
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/concepts/api.html">
     concepts
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/concurrency/api.html">
     concurrency
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/config/api.html">
     config
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/config_registry/api.html">
     config_registry
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/coroutines/api.html">
     coroutines
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/datastructures/api.html">
     datastructures
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/debugging/api.html">
     debugging
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/errors/api.html">
     errors
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/execution/api.html">
     execution
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/execution_base/api.html">
     execution_base
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/executors/api.html">
     executors
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/filesystem/api.html">
     filesystem
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/format/api.html">
     format
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/functional/api.html">
     functional
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/futures/api.html">
     futures
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/hardware/api.html">
     hardware
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/hashing/api.html">
     hashing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/include_local/api.html">
     include_local
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/ini/api.html">
     ini
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/init_runtime_local/api.html">
     init_runtime_local
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/io_service/api.html">
     io_service
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/iterator_support/api.html">
     iterator_support
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/itt_notify/api.html">
     itt_notify
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/lcos_local/api.html">
     lcos_local
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/logging/api.html">
     logging
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/memory/api.html">
     memory
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/mpi_base/api.html">
     mpi_base
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/pack_traversal/api.html">
     pack_traversal
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/plugin/api.html">
     plugin
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/prefix/api.html">
     prefix
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/preprocessor/api.html">
     preprocessor
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/program_options/api.html">
     program_options
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/properties/api.html">
     properties
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/resiliency/api.html">
     resiliency
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/resource_partitioner/api.html">
     resource_partitioner
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/runtime_configuration/api.html">
     runtime_configuration
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/runtime_local/api.html">
     runtime_local
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/schedulers/api.html">
     schedulers
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/serialization/api.html">
     serialization
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/static_reinit/api.html">
     static_reinit
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/string_util/api.html">
     string_util
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/synchronization/api.html">
     synchronization
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/tag_invoke/api.html">
     tag_invoke
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/testing/api.html">
     testing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/thread_pool_util/api.html">
     thread_pool_util
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/thread_pools/api.html">
     thread_pools
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/thread_support/api.html">
     thread_support
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/threading/api.html">
     threading
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/threading_base/api.html">
     threading_base
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/threadmanager/api.html">
     threadmanager
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/timed_execution/api.html">
     timed_execution
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/timing/api.html">
     timing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/topology/api.html">
     topology
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/type_support/api.html">
     type_support
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/util/api.html">
     util
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/core/version/api.html">
     version
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/full/actions/api.html">
     actions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/full/actions_base/api.html">
     actions_base
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/full/agas/api.html">
     agas
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/full/agas_base/api.html">
     agas_base
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/full/async_colocated/api.html">
     async_colocated
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/full/async_distributed/api.html">
     async_distributed
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/full/checkpoint/api.html">
     checkpoint
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/full/checkpoint_base/api.html">
     checkpoint_base
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/full/collectives/api.html">
     collectives
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/full/command_line_handling/api.html">
     command_line_handling
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/full/components/api.html">
     components
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/full/components_base/api.html">
     components_base
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/full/compute/api.html">
     compute
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/full/compute_cuda/api.html">
     compute_cuda
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/full/distribution_policies/api.html">
     distribution_policies
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/full/executors_distributed/api.html">
     executors_distributed
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/full/include/api.html">
     include
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/full/init_runtime/api.html">
     init_runtime
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/full/lcos_distributed/api.html">
     lcos_distributed
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/full/naming/api.html">
     naming
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/full/naming_base/api.html">
     naming_base
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/full/performance_counters/api.html">
     performance_counters
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/full/resiliency_distributed/api.html">
     resiliency_distributed
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/full/runtime_components/api.html">
     runtime_components
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/full/runtime_distributed/api.html">
     runtime_distributed
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/full/segmented_algorithms/api.html">
     segmented_algorithms
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../libs/full/statistics/api.html">
     statistics
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Developer documentation
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../contributing.html">
   Contributing to
   <em>
    HPX
   </em>
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../contributing/contributing.html">
     Contributing to
     <em>
      HPX
     </em>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../contributing/governance.html">
     <em>
      HPX
     </em>
     governance model
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../contributing/release_procedure.html">
     Release procedure for
     <em>
      HPX
     </em>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../contributing/testing_hpx.html">
     Testing
     <em>
      HPX
     </em>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../contributing/docker_image.html">
     Using docker for development
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../contributing/documentation.html">
     Documentation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../contributing/modules.html">
     Module structure
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Other
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../releases.html">
   Releases
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../releases/whats_new_1_7_1.html">
     <em>
      HPX
     </em>
     V1.7.1 (Aug 12, 2021)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../releases/whats_new_1_7_0.html">
     <em>
      HPX
     </em>
     V1.7.0 (Jul 14, 2021)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../releases/whats_new_1_6_0.html">
     <em>
      HPX
     </em>
     V1.6.0 (Feb 17, 2021)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../releases/whats_new_1_5_1.html">
     <em>
      HPX
     </em>
     V1.5.1 (Sep 30, 2020)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../releases/whats_new_1_5_0.html">
     <em>
      HPX
     </em>
     V1.5.0 (Sep 02, 2020)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../releases/whats_new_1_4_1.html">
     <em>
      HPX
     </em>
     V1.4.1 (Feb 12, 2020)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../releases/whats_new_1_4_0.html">
     <em>
      HPX
     </em>
     V1.4.0 (January 15, 2020)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../releases/whats_new_1_3_0.html">
     <em>
      HPX
     </em>
     V1.3.0 (May 23, 2019)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../releases/whats_new_1_2_1.html">
     <em>
      HPX
     </em>
     V1.2.1 (Feb 19, 2019)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../releases/whats_new_1_2_0.html">
     <em>
      HPX
     </em>
     V1.2.0 (Nov 12, 2018)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../releases/whats_new_1_1_0.html">
     <em>
      HPX
     </em>
     V1.1.0 (Mar 24, 2018)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../releases/whats_new_1_0_0.html">
     <em>
      HPX
     </em>
     V1.0.0 (Apr 24, 2017)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../releases/whats_new_0_9_99.html">
     <em>
      HPX
     </em>
     V0.9.99 (Jul 15, 2016)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../releases/whats_new_0_9_11.html">
     <em>
      HPX
     </em>
     V0.9.11 (Nov 11, 2015)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../releases/whats_new_0_9_10.html">
     <em>
      HPX
     </em>
     V0.9.10 (Mar 24, 2015)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../releases/whats_new_0_9_9.html">
     <em>
      HPX
     </em>
     V0.9.9 (Oct 31, 2014, codename Spooky)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../releases/whats_new_0_9_8.html">
     <em>
      HPX
     </em>
     V0.9.8 (Mar 24, 2014)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../releases/whats_new_0_9_7.html">
     <em>
      HPX
     </em>
     V0.9.7 (Nov 13, 2013)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../releases/whats_new_0_9_6.html">
     <em>
      HPX
     </em>
     V0.9.6 (Jul 30, 2013)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../releases/whats_new_0_9_5.html">
     <em>
      HPX
     </em>
     V0.9.5 (Jan 16, 2013)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../releases/whats_new_0_9_0.html">
     <em>
      HPX
     </em>
     V0.9.0 (Jul 5, 2012)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../releases/whats_new_0_8_1.html">
     <em>
      HPX
     </em>
     V0.8.1 (Apr 21, 2012)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../releases/whats_new_0_8_0.html">
     <em>
      HPX
     </em>
     V0.8.0 (Mar 23, 2012)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../releases/whats_new_0_7_0.html">
     <em>
      HPX
     </em>
     V0.7.0 (Dec 12, 2011)
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../citing.html">
   Citing
   <em>
    HPX
   </em>
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../users.html">
   <em>
    HPX
   </em>
   users
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../about_hpx.html">
   About
   <em>
    HPX
   </em>
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../about_hpx/history.html">
     History
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../about_hpx/people.html">
     People
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/manual/starting_the_hpx_runtime.rst.txt"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.rst</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#re-use-the-main-function-as-the-main-hpx-entry-point">
   Re-use the
   <code class="docutils literal notranslate">
    <span class="pre">
     main()
    </span>
   </code>
   function as the main
   <em>
    HPX
   </em>
   entry point
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#supply-your-own-main-hpx-entry-point-while-blocking-the-main-thread">
   Supply your own main
   <em>
    HPX
   </em>
   entry point while blocking the main thread
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#supply-your-own-main-hpx-entry-point-while-avoiding-to-block-the-main-thread">
   Supply your own main
   <em>
    HPX
   </em>
   entry point while avoiding to block the main thread
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#suspending-and-resuming-the-hpx-runtime">
   Suspending and resuming the
   <em>
    HPX
   </em>
   runtime
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#automatically-suspending-worker-threads">
     Automatically suspending worker threads
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#working-of-hpx-main-hpp">
   Working of
   <code class="docutils literal notranslate">
    <span class="pre">
     hpx_main.hpp
    </span>
   </code>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#linux-implementation">
     Linux implementation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#mac-osx-implementation">
     Mac OSX implementation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#windows-implementation">
     Windows implementation
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="starting-the-hpx-runtime">
<span id="starting-hpx"></span><h1>Starting the <em>HPX</em> runtime<a class="headerlink" href="#starting-the-hpx-runtime" title="Permalink to this headline">¶</a></h1>
<p>In order to write an application which uses services from the <em>HPX</em> runtime
system you need to initialize the <em>HPX</em> library by inserting certain calls
into the code of your application. Depending on your use case, this can be done
in 3 different ways:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#minimal"><span class="std std-ref">Minimally invasive</span></a>: Re-use the <code class="docutils literal notranslate"><span class="pre">main()</span></code> function as the
main <em>HPX</em> entry point.</p></li>
<li><p><a class="reference internal" href="#medium"><span class="std std-ref">Balanced use case</span></a>: Supply your own main <em>HPX</em> entry point
while blocking the main thread.</p></li>
<li><p><a class="reference internal" href="#flexible"><span class="std std-ref">Most flexibility</span></a>: Supply your own main <em>HPX</em> entry point
while avoiding to block the main thread.</p></li>
<li><p><a class="reference internal" href="#suspend-resume"><span class="std std-ref">Suspend and resume</span></a>: As above but suspend and resume
the <em>HPX</em> runtime to allow for other runtimes to be used.</p></li>
</ul>
<div class="section" id="re-use-the-main-function-as-the-main-hpx-entry-point">
<span id="minimal"></span><h2>Re-use the <code class="docutils literal notranslate"><span class="pre">main()</span></code> function as the main <em>HPX</em> entry point<a class="headerlink" href="#re-use-the-main-function-as-the-main-hpx-entry-point" title="Permalink to this headline">¶</a></h2>
<p>This method is the least intrusive to your code. It however provides you with
the smallest flexibility in terms of initializing the <em>HPX</em> runtime system. The
following code snippet shows what a minimal <em>HPX</em> application using this
technique looks like:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;hpx/hpx_main.hpp&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The only change to your code you have to make is to include the file
<code class="docutils literal notranslate"><span class="pre">hpx/hpx_main.hpp</span></code>. In this case the function <code class="docutils literal notranslate"><span class="pre">main()</span></code> will be invoked as
the first <em>HPX</em> thread of the application. The runtime system will be
initialized behind the scenes before the function <code class="docutils literal notranslate"><span class="pre">main()</span></code> is executed and
will automatically stop after <code class="docutils literal notranslate"><span class="pre">main()</span></code> has returned. For this method to work
you must link your application to the CMake target <code class="docutils literal notranslate"><span class="pre">HPX::wrap_main</span></code>. This is
done automatically if you are using the provided macros
(<a class="reference internal" href="creating_hpx_projects.html#using-hpx-cmake-macros"><span class="std std-ref">Using macros to create new targets</span></a>) to set up your application, but must be done
explicitly if you are using targets directly (<a class="reference internal" href="creating_hpx_projects.html#using-hpx-cmake-targets"><span class="std std-ref">Using CMake targets</span></a>).
All <em>HPX</em> API functions can be used from within the <code class="docutils literal notranslate"><span class="pre">main()</span></code> function now.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The function <code class="docutils literal notranslate"><span class="pre">main()</span></code> does not need to expect receiving <code class="docutils literal notranslate"><span class="pre">argc</span></code> and
<code class="docutils literal notranslate"><span class="pre">argv</span></code> as shown above, but could expose the signature <code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">main()</span></code>. This
is consistent with the usually allowed prototypes for the function <code class="docutils literal notranslate"><span class="pre">main()</span></code>
in C++ applications.</p>
</div>
<p>All command line arguments specific to <em>HPX</em> will still be processed by the
<em>HPX</em> runtime system as usual. However, those command line options will be
removed from the list of values passed to <code class="docutils literal notranslate"><span class="pre">argc</span></code>/<code class="docutils literal notranslate"><span class="pre">argv</span></code> of the function
<code class="docutils literal notranslate"><span class="pre">main()</span></code>. The list of values passed to <code class="docutils literal notranslate"><span class="pre">main()</span></code> will hold only the
commandline options which are not recognized by the <em>HPX</em> runtime system (see
the section <a class="reference internal" href="launching_and_configuring_hpx_applications.html#commandline"><span class="std std-ref">HPX Command Line Options</span></a> for more details on what options are recognized
by <em>HPX</em>).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In this mode all one-letter-shortcuts are disabled which are normally
available on the <em>HPX</em> command line (such as <code class="docutils literal notranslate"><span class="pre">-t</span></code> or <code class="docutils literal notranslate"><span class="pre">-l</span></code> see
<a class="reference internal" href="launching_and_configuring_hpx_applications.html#commandline"><span class="std std-ref">HPX Command Line Options</span></a>). This is done to minimize any possible interaction
between the command line options recognized by the <em>HPX</em> runtime system and
any command line options defined by the application.</p>
</div>
<p>The value returned from the function <code class="docutils literal notranslate"><span class="pre">main()</span></code> as shown above will be returned
to the operating system as usual.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>To achieve this seamless integration, the header file <code class="docutils literal notranslate"><span class="pre">hpx/hpx_main.hpp</span></code>
defines a macro:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define main hpx_startup::user_main</span>
</pre></div>
</div>
<p>which could result in unexpected behavior.</p>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>To achieve this seamless integration, we use different implementations for
different operating systems. In case of Linux or macOS, the code present in
<code class="docutils literal notranslate"><span class="pre">hpx_wrap.cpp</span></code> is put into action. We hook into the system function in case
of Linux and provide alternate entry point in case of macOS. For other
operating systems we rely on a macro:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define main hpx_startup::user_main</span>
</pre></div>
</div>
<p>provided in the header file <code class="docutils literal notranslate"><span class="pre">hpx/hpx_main.hpp</span></code>. This implementation can
result in unexpected behavior.</p>
</div>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>We make use of an <em>override</em> variable <code class="docutils literal notranslate"><span class="pre">include_libhpx_wrap</span></code> in the header
file <code class="docutils literal notranslate"><span class="pre">hpx/hpx_main.hpp</span></code> to swiftly choose the function call stack at
runtime. Therefore, the header file should <em>only</em> be included in the main
executable. Including it in the components will result in multiple definition
of the variable.</p>
</div>
</div>
<div class="section" id="supply-your-own-main-hpx-entry-point-while-blocking-the-main-thread">
<span id="medium"></span><h2>Supply your own main <em>HPX</em> entry point while blocking the main thread<a class="headerlink" href="#supply-your-own-main-hpx-entry-point-while-blocking-the-main-thread" title="Permalink to this headline">¶</a></h2>
<p>With this method you need to provide an explicit main thread function named
<code class="docutils literal notranslate"><span class="pre">hpx_main</span></code> at global scope. This function will be invoked as the main entry
point of your <em>HPX</em> application on the console <a class="reference internal" href="../terminology.html#term-Locality"><span class="xref std std-term">locality</span></a> only (this
function will be invoked as the first <em>HPX</em> thread of your application). All
<em>HPX</em> API functions can be used from within this function.</p>
<p>The thread executing the function <a class="reference internal" href="../libs/full/init_runtime/api.html#_CPPv4N3hpx4initENSt8functionIFiRN3hpx15program_options13variables_mapEEEEiPPcRK11init_params" title="hpx::init"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">hpx::init</span></code></a> will block waiting for
the runtime system to exit. The value returned from <code class="docutils literal notranslate"><span class="pre">hpx_main</span></code> will be
returned from <a class="reference internal" href="../libs/full/init_runtime/api.html#_CPPv4N3hpx4initENSt8functionIFiRN3hpx15program_options13variables_mapEEEEiPPcRK11init_params" title="hpx::init"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">hpx::init</span></code></a> after the runtime system has stopped.</p>
<p>The function <a class="reference internal" href="../libs/full/init_runtime/api.html#_CPPv4N3hpx8finalizeEddR10error_code" title="hpx::finalize"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">hpx::finalize</span></code></a> has to be called on one of the <em>HPX</em>
localities in order to signal that all work has been scheduled and the runtime
system should be stopped after the scheduled work has been executed.</p>
<p>This method of invoking <em>HPX</em> has the advantage of you being able to decide
which version of <a class="reference internal" href="../libs/full/init_runtime/api.html#_CPPv4N3hpx4initENSt8functionIFiRN3hpx15program_options13variables_mapEEEEiPPcRK11init_params" title="hpx::init"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">hpx::init</span></code></a> to call. This allows to pass
additional configuration parameters while initializing the <em>HPX</em> runtime system.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;hpx/hpx_init.hpp&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">hpx_main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
    <span class="c1">// Any HPX application logic goes here...</span>
    <span class="k">return</span> <span class="n">hpx</span><span class="o">::</span><span class="n">finalize</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
    <span class="c1">// Initialize HPX, run hpx_main as the first HPX thread, and</span>
    <span class="c1">// wait for hpx::finalize being called.</span>
    <span class="k">return</span> <span class="n">hpx</span><span class="o">::</span><span class="n">init</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The function <code class="docutils literal notranslate"><span class="pre">hpx_main</span></code> does not need to expect receiving <code class="docutils literal notranslate"><span class="pre">argc</span></code>/<code class="docutils literal notranslate"><span class="pre">argv</span></code>
as shown above, but could expose one of the following signatures:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">hpx_main</span><span class="p">();</span>
<span class="kt">int</span> <span class="nf">hpx_main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[]);</span>
<span class="kt">int</span> <span class="nf">hpx_main</span><span class="p">(</span><span class="n">hpx</span><span class="o">::</span><span class="n">program_options</span><span class="o">::</span><span class="n">variables_map</span><span class="o">&amp;</span> <span class="n">vm</span><span class="p">);</span>
</pre></div>
</div>
<p>This is consistent with (and extends) the usually allowed prototypes for the
function <code class="docutils literal notranslate"><span class="pre">main()</span></code> in C++ applications.</p>
</div>
<p>The header file to include for this method of using <em>HPX</em> is
<code class="docutils literal notranslate"><span class="pre">hpx/hpx_init.hpp</span></code>.</p>
<p>There are many additional overloads of <a class="reference internal" href="../libs/full/init_runtime/api.html#_CPPv4N3hpx4initENSt8functionIFiRN3hpx15program_options13variables_mapEEEEiPPcRK11init_params" title="hpx::init"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">hpx::init</span></code></a> available, such as
for instance to provide your own entry point function instead of <code class="docutils literal notranslate"><span class="pre">hpx_main</span></code>.
Please refer to the function documentation for more details (see: <code class="docutils literal notranslate"><span class="pre">hpx/hpx_init.hpp</span></code>).</p>
</div>
<div class="section" id="supply-your-own-main-hpx-entry-point-while-avoiding-to-block-the-main-thread">
<span id="flexible"></span><h2>Supply your own main <em>HPX</em> entry point while avoiding to block the main thread<a class="headerlink" href="#supply-your-own-main-hpx-entry-point-while-avoiding-to-block-the-main-thread" title="Permalink to this headline">¶</a></h2>
<p>With this method you need to provide an explicit main thread function named
<code class="docutils literal notranslate"><span class="pre">hpx_main</span></code> at global scope. This function will be invoked as the main entry
point of your <em>HPX</em> application on the console <a class="reference internal" href="../terminology.html#term-Locality"><span class="xref std std-term">locality</span></a> only (this
function will be invoked as the first <em>HPX</em> thread of your application). All
<em>HPX</em> API functions can be used from within this function.</p>
<p>The thread executing the function <a class="reference internal" href="../libs/full/init_runtime/api.html#_CPPv4N3hpx5startENSt8functionIFiRN3hpx15program_options13variables_mapEEEEiPPcRK11init_params" title="hpx::start"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">hpx::start</span></code></a> will <em>not</em> block
waiting for the runtime system to exit, but will return immediately.
The function <a class="reference internal" href="../libs/full/init_runtime/api.html#_CPPv4N3hpx8finalizeEddR10error_code" title="hpx::finalize"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">hpx::finalize</span></code></a> has to be called on one of the <em>HPX</em>
localities in order to signal that all work has been scheduled and the runtime
system should be stopped after the scheduled work has been executed.</p>
<p>This method of invoking <em>HPX</em> is useful for applications where the main thread
is used for special operations, such a GUIs. The function <a class="reference internal" href="../libs/full/init_runtime/api.html#_CPPv4N3hpx4stopER10error_code" title="hpx::stop"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">hpx::stop</span></code></a>
can be used to wait for the <em>HPX</em> runtime system to exit and should be at least
used as the last function called in <code class="docutils literal notranslate"><span class="pre">main()</span></code>. The value returned from
<code class="docutils literal notranslate"><span class="pre">hpx_main</span></code> will be returned from <a class="reference internal" href="../libs/full/init_runtime/api.html#_CPPv4N3hpx4stopER10error_code" title="hpx::stop"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">hpx::stop</span></code></a> after the runtime
system has stopped.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;hpx/hpx_start.hpp&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">hpx_main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
    <span class="c1">// Any HPX application logic goes here...</span>
    <span class="k">return</span> <span class="n">hpx</span><span class="o">::</span><span class="n">finalize</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
    <span class="c1">// Initialize HPX, run hpx_main.</span>
    <span class="n">hpx</span><span class="o">::</span><span class="n">start</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">);</span>

    <span class="c1">// ...Execute other code here...</span>

    <span class="c1">// Wait for hpx::finalize being called.</span>
    <span class="k">return</span> <span class="n">hpx</span><span class="o">::</span><span class="n">stop</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The function <code class="docutils literal notranslate"><span class="pre">hpx_main</span></code> does not need to expect receiving <code class="docutils literal notranslate"><span class="pre">argc</span></code>/<code class="docutils literal notranslate"><span class="pre">argv</span></code>
as shown above, but could expose one of the following signatures:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">hpx_main</span><span class="p">();</span>
<span class="kt">int</span> <span class="nf">hpx_main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[]);</span>
<span class="kt">int</span> <span class="nf">hpx_main</span><span class="p">(</span><span class="n">hpx</span><span class="o">::</span><span class="n">program_options</span><span class="o">::</span><span class="n">variables_map</span><span class="o">&amp;</span> <span class="n">vm</span><span class="p">);</span>
</pre></div>
</div>
<p>This is consistent with (and extends) the usually allowed prototypes for the
function <code class="docutils literal notranslate"><span class="pre">main()</span></code> in C++ applications.</p>
</div>
<p>The header file to include for this method of using <em>HPX</em> is
<code class="docutils literal notranslate"><span class="pre">hpx/hpx_start.hpp</span></code>.</p>
<p>There are many additional overloads of <a class="reference internal" href="../libs/full/init_runtime/api.html#_CPPv4N3hpx5startENSt8functionIFiRN3hpx15program_options13variables_mapEEEEiPPcRK11init_params" title="hpx::start"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">hpx::start</span></code></a> available, such as
for instance to provide your own entry point function instead of <code class="docutils literal notranslate"><span class="pre">hpx_main</span></code>.
Please refer to the function documentation for more details (see:
<code class="docutils literal notranslate"><span class="pre">hpx/hpx_start.hpp</span></code>).</p>
</div>
<div class="section" id="suspending-and-resuming-the-hpx-runtime">
<span id="suspend-resume"></span><h2>Suspending and resuming the <em>HPX</em> runtime<a class="headerlink" href="#suspending-and-resuming-the-hpx-runtime" title="Permalink to this headline">¶</a></h2>
<p>In some applications it is required to combine <em>HPX</em> with other runtimes. To
support this use case <em>HPX</em> provides two functions: <a class="reference internal" href="../libs/full/init_runtime/api.html#_CPPv4N3hpx7suspendER10error_code" title="hpx::suspend"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">hpx::suspend</span></code></a> and
<a class="reference internal" href="../libs/full/init_runtime/api.html#_CPPv4N3hpx6resumeER10error_code" title="hpx::resume"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">hpx::resume</span></code></a>. <a class="reference internal" href="../libs/full/init_runtime/api.html#_CPPv4N3hpx7suspendER10error_code" title="hpx::suspend"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">hpx::suspend</span></code></a> is a blocking call which will
wait for all scheduled tasks to finish executing and then put the thread pool OS
threads to sleep. <a class="reference internal" href="../libs/full/init_runtime/api.html#_CPPv4N3hpx6resumeER10error_code" title="hpx::resume"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">hpx::resume</span></code></a> simply wakes up the sleeping threads
so that they are ready to accept new work. <a class="reference internal" href="../libs/full/init_runtime/api.html#_CPPv4N3hpx7suspendER10error_code" title="hpx::suspend"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">hpx::suspend</span></code></a> and
<a class="reference internal" href="../libs/full/init_runtime/api.html#_CPPv4N3hpx6resumeER10error_code" title="hpx::resume"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">hpx::resume</span></code></a> can be found in the header <code class="docutils literal notranslate"><span class="pre">hpx/hpx_suspend.hpp</span></code>.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;hpx/hpx_start.hpp&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;hpx/hpx_suspend.hpp&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>

   <span class="c1">// Initialize HPX, don&#39;t run hpx_main</span>
    <span class="n">hpx</span><span class="o">::</span><span class="n">start</span><span class="p">(</span><span class="k">nullptr</span><span class="p">,</span> <span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">);</span>

    <span class="c1">// Schedule a function on the HPX runtime</span>
    <span class="n">hpx</span><span class="o">::</span><span class="n">apply</span><span class="p">(</span><span class="o">&amp;</span><span class="n">my_function</span><span class="p">,</span> <span class="p">...);</span>

    <span class="c1">// Wait for all tasks to finish, and suspend the HPX runtime</span>
    <span class="n">hpx</span><span class="o">::</span><span class="n">suspend</span><span class="p">();</span>

    <span class="c1">// Execute non-HPX code here</span>

    <span class="c1">// Resume the HPX runtime</span>
    <span class="n">hpx</span><span class="o">::</span><span class="n">resume</span><span class="p">();</span>

    <span class="c1">// Schedule more work on the HPX runtime</span>

    <span class="c1">// hpx::finalize has to be called from the HPX runtime before hpx::stop</span>
    <span class="n">hpx</span><span class="o">::</span><span class="n">apply</span><span class="p">([]()</span> <span class="p">{</span> <span class="n">hpx</span><span class="o">::</span><span class="n">finalize</span><span class="p">();</span> <span class="p">});</span>
    <span class="k">return</span> <span class="n">hpx</span><span class="o">::</span><span class="n">stop</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="../libs/full/init_runtime/api.html#_CPPv4N3hpx7suspendER10error_code" title="hpx::suspend"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">hpx::suspend</span></code></a> does not wait for <a class="reference internal" href="../libs/full/init_runtime/api.html#_CPPv4N3hpx8finalizeEddR10error_code" title="hpx::finalize"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">hpx::finalize</span></code></a> to be
called. Only call <a class="reference internal" href="../libs/full/init_runtime/api.html#_CPPv4N3hpx8finalizeEddR10error_code" title="hpx::finalize"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">hpx::finalize</span></code></a> when you wish to fully stop the
<em>HPX</em> runtime.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<dl class="simple">
<dt><a class="reference internal" href="../libs/full/init_runtime/api.html#_CPPv4N3hpx7suspendER10error_code" title="hpx::suspend"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">hpx::suspend</span></code></a> only waits for local tasks, i.e. tasks on the</dt><dd><p>current locality, to finish executing. When using <a class="reference internal" href="../libs/full/init_runtime/api.html#_CPPv4N3hpx7suspendER10error_code" title="hpx::suspend"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">hpx::suspend</span></code></a>
in a multi-locality scenario the user is responsible for ensuring that any
work required from other localities has also finished.</p>
</dd>
</dl>
</div>
<p><em>HPX</em> also supports suspending individual thread pools and threads. For details
on how to do that see the documentation for <a class="reference internal" href="../libs/core/threading_base/api.html#_CPPv4N3hpx7threads16thread_pool_baseE" title="hpx::threads::thread_pool_base"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">hpx::threads::thread_pool_base</span></code></a>.</p>
<div class="section" id="automatically-suspending-worker-threads">
<h3>Automatically suspending worker threads<a class="headerlink" href="#automatically-suspending-worker-threads" title="Permalink to this headline">¶</a></h3>
<p>The previous method guarantees that the worker threads are suspended when you
ask for it and that they stay suspended. An alternative way to achieve the same
effect is to tweak how quickly <em>HPX</em> suspends its worker threads when they run
out of work. The following configuration values make sure that <em>HPX</em> idles very
quickly:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="na">hpx.max_idle_backoff_time</span> <span class="o">=</span> <span class="s">1000</span>
<span class="na">hpx.max_idle_loop_count</span> <span class="o">=</span> <span class="s">0</span>
</pre></div>
</div>
<p>They can be set on the command line using
<code class="docutils literal notranslate"><span class="pre">--hpx:ini=hpx.max_idle_backoff_time=1000</span></code> and
<code class="docutils literal notranslate"><span class="pre">--hpx:ini=hpx.max_idle_loop_count=0</span></code>. See <a class="reference internal" href="launching_and_configuring_hpx_applications.html#launching-and-configuring"><span class="std std-ref">Launching and configuring HPX applications</span></a>
for more details on how to set configuration parameters.</p>
<p>After setting idling parameters the previous example could now be written like
this instead:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;hpx/hpx_start.hpp&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>

   <span class="c1">// Initialize HPX, don&#39;t run hpx_main</span>
    <span class="n">hpx</span><span class="o">::</span><span class="n">start</span><span class="p">(</span><span class="k">nullptr</span><span class="p">,</span> <span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">);</span>

    <span class="c1">// Schedule some functions on the HPX runtime</span>
    <span class="c1">// NOTE: run_as_hpx_thread blocks until completion.</span>
    <span class="n">hpx</span><span class="o">::</span><span class="n">run_as_hpx_thread</span><span class="p">(</span><span class="o">&amp;</span><span class="n">my_function</span><span class="p">,</span> <span class="p">...);</span>
    <span class="n">hpx</span><span class="o">::</span><span class="n">run_as_hpx_thread</span><span class="p">(</span><span class="o">&amp;</span><span class="n">my_other_function</span><span class="p">,</span> <span class="p">...);</span>

    <span class="c1">// hpx::finalize has to be called from the HPX runtime before hpx::stop</span>
    <span class="n">hpx</span><span class="o">::</span><span class="n">apply</span><span class="p">([]()</span> <span class="p">{</span> <span class="n">hpx</span><span class="o">::</span><span class="n">finalize</span><span class="p">();</span> <span class="p">});</span>
    <span class="k">return</span> <span class="n">hpx</span><span class="o">::</span><span class="n">stop</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In this example each call to <code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">hpx::run_as_hpx_thread</span></code> acts as a
“parallel region”.</p>
</div>
</div>
<div class="section" id="working-of-hpx-main-hpp">
<span id="hpx-main-implementation"></span><h2>Working of <code class="docutils literal notranslate"><span class="pre">hpx_main.hpp</span></code><a class="headerlink" href="#working-of-hpx-main-hpp" title="Permalink to this headline">¶</a></h2>
<p>In order to initialize <em>HPX</em> from <code class="docutils literal notranslate"><span class="pre">main()</span></code>, we make use of linker tricks.</p>
<p>It is implemented differently for different Operating Systems. Method of
implementation is as follows:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#hpx-main-implementation-linux"><span class="std std-ref">Linux</span></a>: Using linker <code class="docutils literal notranslate"><span class="pre">--wrap</span></code> option.</p></li>
<li><p><a class="reference internal" href="#hpx-main-implementation-osx"><span class="std std-ref">Mac OSX</span></a>: Using the linker <code class="docutils literal notranslate"><span class="pre">-e</span></code> option.</p></li>
<li><p><a class="reference internal" href="#hpx-main-implementation-windows"><span class="std std-ref">Windows</span></a>: Using <code class="docutils literal notranslate"><span class="pre">#define</span> <span class="pre">main</span>
<span class="pre">hpx_startup::user_main</span></code></p></li>
</ul>
<div class="section" id="linux-implementation">
<span id="hpx-main-implementation-linux"></span><h3>Linux implementation<a class="headerlink" href="#linux-implementation" title="Permalink to this headline">¶</a></h3>
<p>We make use of the Linux linker <code class="docutils literal notranslate"><span class="pre">ld</span></code>‘s <code class="docutils literal notranslate"><span class="pre">--wrap</span></code> option to wrap the
<code class="docutils literal notranslate"><span class="pre">main()</span></code> function. This way any call to <code class="docutils literal notranslate"><span class="pre">main()</span></code> are redirected to our own
implementation of main. It is here that we check for the existence of
<code class="docutils literal notranslate"><span class="pre">hpx_main.hpp</span></code> by making use of a shadow variable <code class="docutils literal notranslate"><span class="pre">include_libhpx_wrap</span></code>. The
value of this variable determines the function stack at runtime.</p>
<p>The implementation can be found in <code class="docutils literal notranslate"><span class="pre">libhpx_wrap.a</span></code>.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>It is necessary that <code class="docutils literal notranslate"><span class="pre">hpx_main.hpp</span></code> be not included more than once.
Multiple inclusions can result in multiple definition of
<code class="docutils literal notranslate"><span class="pre">include_libhpx_wrap</span></code>.</p>
</div>
</div>
<div class="section" id="mac-osx-implementation">
<span id="hpx-main-implementation-osx"></span><h3>Mac OSX implementation<a class="headerlink" href="#mac-osx-implementation" title="Permalink to this headline">¶</a></h3>
<p>Here we make use of yet another linker option <code class="docutils literal notranslate"><span class="pre">-e</span></code> to change the entry point
to our custom entry function <code class="docutils literal notranslate"><span class="pre">initialize_main</span></code>. We initialize the <em>HPX</em>
runtime system from this function and call main from the initialized system. We
determine the function stack at runtime by making use of the shadow variable
<code class="docutils literal notranslate"><span class="pre">include_libhpx_wrap</span></code>.</p>
<p>The implementation can be found in <code class="docutils literal notranslate"><span class="pre">libhpx_wrap.a</span></code>.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>It is necessary that <code class="docutils literal notranslate"><span class="pre">hpx_main.hpp</span></code> be not included more than once.
Multiple inclusions can result in multiple definition of
<code class="docutils literal notranslate"><span class="pre">include_libhpx_wrap</span></code>.</p>
</div>
</div>
<div class="section" id="windows-implementation">
<span id="hpx-main-implementation-windows"></span><h3>Windows implementation<a class="headerlink" href="#windows-implementation" title="Permalink to this headline">¶</a></h3>
<p>We make use of a macro <code class="docutils literal notranslate"><span class="pre">#define</span> <span class="pre">main</span> <span class="pre">hpx_startup::user_main</span></code> to take care of
the initializations.</p>
<p>This implementation could result in unexpected behaviors.</p>
</div>
</div>
</div>


              </div>
              
        
            



<div class='prev-next-bottom'>
    
    <div id="prev">
        <a class="left-prev" href="creating_hpx_projects.html" title="previous page">
            <i class="prevnext-label fas fa-angle-left"></i>
            <div class="prevnext-info">
                <p class="prevnext-label">previous</p>
                <p class="prevnext-title">Creating <em>HPX</em> projects</p>
            </div>
        </a>
    </div>
     <div id="next">
        <a class="right-next" href="launching_and_configuring_hpx_applications.html" title="next page">
            <div class="prevnext-info">
                <p class="prevnext-label">next</p>
                <p class="prevnext-title">Launching and configuring <em>HPX</em> applications</p>
            </div>
            <i class="prevnext-label fas fa-angle-right"></i>
        </a>
     </div>

</div>
        
        </div>
    </div>
    <!-- Copyright (c) 2018 Mikael Simberg

     Distributed under the Boost Software License, Version 1.0. (See accompanying
     file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt) -->
<!-- Make HPX inspect tool happy: hpxinspect:nounlinked -->

<footer class="footer">
    <div class="container">
      <p>
        
          By The STE||AR Group<br/>
        
            &copy; Copyright 2008-2021, The STE||AR Group.<br/>
          Last updated on Nov 29, 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>