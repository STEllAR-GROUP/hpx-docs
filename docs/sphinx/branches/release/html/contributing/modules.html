

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Module structure &mdash; HPX release documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Releases" href="../releases.html" />
    <link rel="prev" title="Documentation" href="documentation.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> HPX
          

          
            
            <img src="../_static/HPX_STELLAR.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                release
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../why_hpx.html">Why <em>HPX</em>?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quick start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../terminology.html">Terminology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual.html">Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../additional_material.html">Additional material</a></li>
</ul>
<p class="caption"><span class="caption-text">Modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../libs/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../libs/all_modules.html">All modules</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API reference</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer documentation</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../contributing.html">Contributing to <em>HPX</em></a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="release_procedure.html">Release procedure for <em>HPX</em></a></li>
<li class="toctree-l2"><a class="reference internal" href="testing_hpx.html">Testing <em>HPX</em></a></li>
<li class="toctree-l2"><a class="reference internal" href="docker_image.html">Using docker for development</a></li>
<li class="toctree-l2"><a class="reference internal" href="documentation.html">Documentation</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Module structure</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Other</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../releases.html">Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about_hpx.html">About <em>HPX</em></a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">HPX</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../contributing.html">Contributing to <em>HPX</em></a> &raquo;</li>
        
      <li>Module structure</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/STEllAR-GROUP/hpx/blob/master/docs/sphinx/contributing/modules.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-structure">
<span id="id2"></span><h1>Module structure<a class="headerlink" href="#module-structure" title="Permalink to this headline">Â¶</a></h1>
<p>This section explains the structure of an <em>HPX</em> module.</p>
<p>The tool <a class="reference external" href="https://github.com/STEllAR-GROUP/hpx/blob/master/libs/create_library_skeleton.py">create_library_skeleton.py</a>
can be used to generate a basic skeleton. To create a library skeleton, run the
tool in the <code class="docutils literal notranslate"><span class="pre">libs</span></code> subdirectory with the module name as an argument:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./create_library_skeleton &lt;lib_name&gt;
</pre></div>
</div>
<p>This creates a skeleton with the necessary files for an <em>HPX</em> module. It will not create any actual source files. The structure of this skeleton is as follows:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;lib_name&gt;/</span></code></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">README.rst</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cmake</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">docs/</span></code></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">index.rst</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">examples/</span></code></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">include/</span></code></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">hpx/</span></code></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;lib_name&gt;</span></code></p></li>
</ul>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">src/</span></code></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">tests/</span></code></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unit/</span></code></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">regressions/</span></code></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">performance/</span></code></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>A <code class="docutils literal notranslate"><span class="pre">README.rst</span></code> should be always included which explains the basic purpose of
the library and a link to the generated documentation.</p>
<p>A main <code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code> is created in the root directory of the module. By
default it contains a call to <code class="docutils literal notranslate"><span class="pre">add_hpx_module</span></code> which takes care of most of the
boilerplate required for a module. You only need to fill in the source and
header files in most cases.</p>
<p><code class="docutils literal notranslate"><span class="pre">add_hpx_module</span></code> requires a module name. Optional flags are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">DEPRECATION_WARNINGS</span></code>: Enables deprecation warnings for the module.</p></li>
</ul>
<p>Optional single-value arguments are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">COMPATIBILITY_HEADERS</span></code>: Can be <code class="docutils literal notranslate"><span class="pre">ON</span></code>, <code class="docutils literal notranslate"><span class="pre">OFF</span></code>, or left out. Enables
compatibility headers. Creates a variable which can be turned on or off by the
user when set to <code class="docutils literal notranslate"><span class="pre">ON</span></code> or <code class="docutils literal notranslate"><span class="pre">OFF</span></code>. If left out the option is completely
disabled.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">INSTALL_BINARIES</span></code>: Install the resulting library.</p></li>
</ul>
<p>Optional multi-value arguments-are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SOURCES</span></code>: List of source files.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HEADERS</span></code>: List of header files.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">COMPAT_HEADERS</span></code>: List of compatibility header files.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DEPENDENCIES</span></code>: Libraries that this module depends on, such as other modules.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CMAKE_SUBDIRS</span></code>: List of subdirectories to add to the module.</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">include</span></code> directory should contain only headers that other libraries need.
For each of those headers, an automatic header test to check for self
containment will be generated. Private headers should be placed under the
<code class="docutils literal notranslate"><span class="pre">src</span></code> directory. This allows for clear seperation. The <code class="docutils literal notranslate"><span class="pre">cmake</span></code> subdirectory
may include additional <a class="reference external" href="https://www.cmake.org">CMake</a> scripts needed to generate the respective build
configurations.</p>
<p>Compatibility headers (forwarding headers for headers whose location is changed
when creating a module, if moving them from the main library) should be placed
in an <code class="docutils literal notranslate"><span class="pre">include_compatibility</span></code> directory. This directory is not created by
default.</p>
<p>Documentation is placed in the <code class="docutils literal notranslate"><span class="pre">docs</span></code> folder. A empty skeleton for the index
is created, which is picked up by the main build system and will be part of the
generated documentation. Each header inside the <code class="docutils literal notranslate"><span class="pre">include</span></code> directory will
automatically be processed by Doxygen and included into the documentation. If a
header should be excluded from the API reference, a comment <code class="docutils literal notranslate"><span class="pre">//</span>
<span class="pre">sphinx:undocumented</span></code> needs to be added.</p>
<p>Tests are placed in suitable subdirectories of <code class="docutils literal notranslate"><span class="pre">tests</span></code>.</p>
<p>When in doubt, consult existing modules for examples on how to structure the
module.</p>
</div>


           </div>
           
          </div>
          <!-- Copyright (c) 2018 Mikael Simberg

     Distributed under the Boost Software License, Version 1.0. (See accompanying
     file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt) -->
<!-- Make HPX inspect tool happy: hpxinspect:nounlinked -->

<footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../releases.html" class="btn btn-neutral float-right" title="Releases" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="documentation.html" class="btn btn-neutral float-left" title="Documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2008-2019, The STE||AR Group
      
        <span class="commit">
          Revision <code>1e2a841</code>.
        </span>
      

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
 

SPDX-License-Identifier: BSL-1.0
Distributed under the Boost Software License, Version 1.0. (See accompanying file
LICENSE_1_0.txt or copy at
<a href="http://www.boost.org/LICENSE_1_0.txt">http://www.boost.org/LICENSE_1_0.txt</a>)



</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>