

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Launching and configuring HPX applications &mdash; HPX 1.2.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/css/theme_overrides.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="HPX 1.2.0 documentation" href="../index.html"/>
        <link rel="up" title="Manual" href="../manual.html"/>
        <link rel="next" title="Writing single-node HPX applications" href="writing_single_node_hpx_applications.html"/>
        <link rel="prev" title="Starting the HPX runtime" href="starting_the_hpx_runtime.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> HPX
          

          
            
            <img src="../_static/HPX_STELLAR.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1.2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../why_hpx.html">Why <em>HPX</em>?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quick start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../terminology.html">Terminology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../manual.html">Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="building_hpx.html"><em>HPX</em> build system</a></li>
<li class="toctree-l2"><a class="reference internal" href="creating_hpx_projects.html">Creating <em>HPX</em> projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="starting_the_hpx_runtime.html">Starting the <em>HPX</em> runtime</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Launching and configuring <em>HPX</em> applications</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#configuring-hpx-applications">Configuring <em>HPX</em> applications</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#the-hpx-ini-file-format">The <em>HPX</em> INI File Format</a></li>
<li class="toctree-l4"><a class="reference internal" href="#built-in-default-configuration-settings">Built-in Default Configuration Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#loading-ini-files">Loading INI files</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#loading-components">Loading components</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#application-specific-component-example">Application specific component example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#logging">Logging</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#default-logging">Default logging</a></li>
<li class="toctree-l4"><a class="reference internal" href="#customizing-logging">Customizing logging</a></li>
<li class="toctree-l4"><a class="reference internal" href="#levels">Levels</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id5">Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#hpx-command-line-options"><em>HPX</em> Command Line Options</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#hpx-options-allowed-on-command-line-only"><em>HPX</em> options (allowed on command line only)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hpx-options-additionally-allowed-in-an-options-file"><em>HPX</em> options (additionally allowed in an options file)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hpx-configuraton-options"><em>HPX</em> configuraton options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hpx-debugging-options"><em>HPX</em> debugging options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hpx-options-related-to-performance-counters"><em>HPX</em> options related to performance counters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-line-argument-shortcuts">Command line argument shortcuts</a></li>
<li class="toctree-l4"><a class="reference internal" href="#specifying-options-for-single-localities-only">Specifying options for single localities only</a></li>
<li class="toctree-l4"><a class="reference internal" href="#more-details-about-hpx-command-line-options">More details about <em>HPX</em> command line options</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="writing_single_node_hpx_applications.html">Writing single-node <em>HPX</em> applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="writing_distributed_hpx_applications.html">Writing distributed <em>HPX</em> applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="running_on_batch_systems.html">Running on batch systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="debugging_hpx_applications.html">Debugging <em>HPX</em> applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="optimizing_hpx_applications.html">Optimizing <em>HPX</em> applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="hpx_runtime_and_resources.html"><em>HPX</em> runtime and resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="miscellaneous.html">Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../additional_material.html">Additional material</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API reference</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing to <em>HPX</em></a></li>
</ul>
<p class="caption"><span class="caption-text">Other</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../releases.html">Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about_hpx.html">About <em>HPX</em></a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">HPX</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../manual.html">Manual</a> &raquo;</li>
        
      <li>Launching and configuring <em>HPX</em> applications</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/STEllAR-GROUP/hpx/blob/master/docs/sphinx/manual/launching_and_configuring_hpx_applications.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="launching-and-configuring-hpx-applications">
<span id="launching-and-configuring"></span><h1>Launching and configuring <em>HPX</em> applications<a class="headerlink" href="#launching-and-configuring-hpx-applications" title="Permalink to this headline">¶</a></h1>
<div class="section" id="configuring-hpx-applications">
<span id="configuration"></span><h2>Configuring <em>HPX</em> applications<a class="headerlink" href="#configuring-hpx-applications" title="Permalink to this headline">¶</a></h2>
<p>All <em>HPX</em> applications can be configured using special command line options
and/or using special configuration files. This section describes the available
options, the configuration file format, and the algorithm used to locate
possible predefined configuration files. Additionally this section describes the
defaults assumed if no external configuration information is supplied.</p>
<p>During startup any <em>HPX</em> application applies a predefined search pattern to
locate one or more configuration files. All found files will be read and merged
in the sequence they are found into one single internal database holding all
configuration properties. This database is used during the execution of the
application to configure different aspects of the runtime system.</p>
<p>In addition to the ini files, any application can supply its own configuration
files, which will be merged with the configuration database as well. Moreover,
the user can specify additional configuration parameters on the command line
when executing an application. The <em>HPX</em> runtime system will merge all command
line configuration options (see the description of the <a class="reference internal" href="#cmdoption-hpx-ini"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:ini</span></code></a>,
<a class="reference internal" href="#cmdoption-hpx-config"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:config</span></code></a>, and <a class="reference internal" href="#cmdoption-hpx-app-config"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:app-config</span></code></a> command line options).</p>
<div class="section" id="the-hpx-ini-file-format">
<span id="ini-format"></span><h3>The <em>HPX</em> INI File Format<a class="headerlink" href="#the-hpx-ini-file-format" title="Permalink to this headline">¶</a></h3>
<p>All <em>HPX</em> applications can be configured using a special file format which is
similar to the well-known <a class="reference external" href="https://en.wikipedia.org/wiki/INI_file">Windows INI file format</a>. This is a structured text format
allowing to group key/value pairs (properties) into sections. The basic element
contained in an ini file is the property. Every property has a name and a
value, delimited by an equals sign <code class="docutils literal notranslate"><span class="pre">'='</span></code>. The name appears to the left of the
equals sign:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="na">name</span><span class="o">=</span><span class="s">value</span>
</pre></div>
</div>
<p>The value may contain equal signs as only the first <code class="docutils literal notranslate"><span class="pre">'='</span></code> character
is interpreted as the delimiter between <code class="docutils literal notranslate"><span class="pre">name</span></code> and <code class="docutils literal notranslate"><span class="pre">value</span></code> Whitespace before
the name, after the value and immediately before and after the delimiting equal
sign is ignored. Whitespace inside the value is retained.</p>
<p>Properties may be grouped into arbitrarily named sections. The section name
appears on a line by itself, in square brackets <code class="docutils literal notranslate"><span class="pre">[</span></code> and <code class="docutils literal notranslate"><span class="pre">]</span></code>. All properties
after the section declaration are associated with that section. There is no
explicit “end of section” delimiter; sections end at the next section
declaration, or the end of the file:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[section]</span>
</pre></div>
</div>
<p>In <em>HPX</em> sections can be nested. A nested section has a name composed of
all section names it is embedded in. The section names are concatenated using
a dot <code class="docutils literal notranslate"><span class="pre">'.'</span></code>:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[outer_section.inner_section]</span>
</pre></div>
</div>
<p>Here <code class="docutils literal notranslate"><span class="pre">inner_section</span></code> is logically nested within <code class="docutils literal notranslate"><span class="pre">outer_section</span></code>.</p>
<p>It is possible to use the full section name concatenated with the property
name to refer to a particular property. For example in:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[a.b.c]</span>
<span class="na">d</span> <span class="o">=</span> <span class="s">e</span>
</pre></div>
</div>
<p>the property value of <code class="docutils literal notranslate"><span class="pre">d</span></code> can be referred to as <code class="docutils literal notranslate"><span class="pre">a.b.c.d=e</span></code>.</p>
<p>In <em>HPX</em> ini files can contain comments. Hash signs <code class="docutils literal notranslate"><span class="pre">'#'</span></code> at the beginning
of a line indicate a comment. All characters starting with the <code class="docutils literal notranslate"><span class="pre">'#'</span></code> until the
end of line are ignored.</p>
<p>If a property with the same name is reused inside a section, the second
occurrence of this property name will override the first occurrence (discard the
first value). Duplicate sections simply merge their properties together, as if
they occurred contiguously.</p>
<p>In <em>HPX</em> ini files, a property value <code class="docutils literal notranslate"><span class="pre">${FOO:default}</span></code> will use the environmental
variable <code class="docutils literal notranslate"><span class="pre">FOO</span></code> to extract the actual value if it is set and``default``otherwise.
No default has to be specified. Therefore <code class="docutils literal notranslate"><span class="pre">${FOO}</span></code> refers to the environmental
variable <code class="docutils literal notranslate"><span class="pre">FOO</span></code>. If <code class="docutils literal notranslate"><span class="pre">FOO</span></code> is not set or empty the overall expression will evaluate
to an empty string. A property value <code class="docutils literal notranslate"><span class="pre">$[section.key:default]</span></code> refers to the value
held by the property <code class="docutils literal notranslate"><span class="pre">section.key</span></code> if it exists and <code class="docutils literal notranslate"><span class="pre">default</span></code> otherwise. No
default has to be specified. Therefore <code class="docutils literal notranslate"><span class="pre">$[section.key]</span></code> refers to the property
<code class="docutils literal notranslate"><span class="pre">section.key</span></code>. If the property <code class="docutils literal notranslate"><span class="pre">section.key</span></code> is not set or empty, the overall
expression will evaluate to an empty string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Any property <code class="docutils literal notranslate"><span class="pre">$[section.key:default]</span></code> is evaluated whenever it is queried
and not when the configuration data is initialized. This allows for lazy
evaluation and relaxes initialization order of different sections. The only
exception are recursive property values, e.g. values referring to the very
key they are associated with. Those property values are evaluated at
initialization time to avoid infinite recursion.</p>
</div>
</div>
<div class="section" id="built-in-default-configuration-settings">
<span id="config-defaults"></span><h3>Built-in Default Configuration Settings<a class="headerlink" href="#built-in-default-configuration-settings" title="Permalink to this headline">¶</a></h3>
<p>During startup any <em>HPX</em> application applies a predefined search pattern to
locate one or more configuration files. All found files will be read and merged
in the sequence they are found into one single internal data structure holding
all configuration properties.</p>
<p>As a first step the internal configuration database is filled with a set of
default configuration properties. Those settings are described on a section
by section basis below.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You can print the default configuration settings used for an executable
by specifying the command line option <a class="reference internal" href="#cmdoption-hpx-dump-config"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:dump-config</span></code></a>.</p>
</div>
<div class="section" id="the-system-configuration-section">
<h4>The <code class="docutils literal notranslate"><span class="pre">system</span></code> configuration section<a class="headerlink" href="#the-system-configuration-section" title="Permalink to this headline">¶</a></h4>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[system]</span>
<span class="na">pid</span> <span class="o">=</span> <span class="s">&lt;process-id&gt;</span>
<span class="na">prefix</span> <span class="o">=</span> <span class="s">&lt;current prefix path of core HPX library&gt;</span>
<span class="na">executable</span> <span class="o">=</span> <span class="s">&lt;current prefix path of executable&gt;</span>
</pre></div>
</div>
<table border="1" class="docutils" id="ini-system">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Property</td>
<td>Description</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">system.pid</span></code></td>
<td>This is initialized to store the current OS-process id of the application
instance.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">system.prefix</span></code></td>
<td>This is initialized to the base directory <em>HPX</em> has been loaded from.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">system.executable_prefix</span></code></td>
<td>This is initialized to the base directory the current executable has been
loaded from.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="the-hpx-configuration-section">
<h4>The <code class="docutils literal notranslate"><span class="pre">hpx</span></code> configuration section<a class="headerlink" href="#the-hpx-configuration-section" title="Permalink to this headline">¶</a></h4>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[hpx]</span>
<span class="na">location</span> <span class="o">=</span> <span class="s">${HPX_LOCATION:$[system.prefix]}</span>
<span class="na">component_path</span> <span class="o">=</span> <span class="s">$[hpx.location]/lib/hpx:$[system.executable_prefix]/lib/hpx:$[system.executable_prefix]/../lib/hpx</span>
<span class="na">master_ini_path</span> <span class="o">=</span> <span class="s">$[hpx.location]/share/hpx-&lt;version&gt;:$[system.executable_prefix]/share/hpx-&lt;version&gt;:$[system.executable_prefix]/../share/hpx-&lt;version&gt;</span>
<span class="na">ini_path</span> <span class="o">=</span> <span class="s">$[hpx.master_ini_path]/ini</span>
<span class="na">os_threads</span> <span class="o">=</span> <span class="s">1</span>
<span class="na">localities</span> <span class="o">=</span> <span class="s">1</span>
<span class="na">program_name</span> <span class="o">=</span>
<span class="na">cmd_line</span> <span class="o">=</span>
<span class="na">lock_detection</span> <span class="o">=</span> <span class="s">${HPX_LOCK_DETECTION:0}</span>
<span class="na">throw_on_held_lock</span> <span class="o">=</span> <span class="s">${HPX_THROW_ON_HELD_LOCK:1}</span>
<span class="na">minimal_deadlock_detection</span> <span class="o">=</span> <span class="s">&lt;debug&gt;</span>
<span class="na">spinlock_deadlock_detection</span> <span class="o">=</span> <span class="s">&lt;debug&gt;</span>
<span class="na">spinlock_deadlock_detection_limit</span> <span class="o">=</span> <span class="s">${HPX_SPINLOCK_DEADLOCK_DETECTION_LIMIT:1000000}</span>
<span class="na">max_background_threads</span> <span class="o">=</span> <span class="s">${HPX_MAX_BACKGROUND_THREADS:$[hpx.os_threads]}</span>
<span class="na">max_idle_loop_count</span> <span class="o">=</span> <span class="s">${HPX_MAX_IDLE_LOOP_COUNT:&lt;hpx_idle_loop_count_max&gt;}</span>
<span class="na">max_busy_loop_count</span> <span class="o">=</span> <span class="s">${HPX_MAX_BUSY_LOOP_COUNT:&lt;hpx_busy_loop_count_max&gt;}</span>
<span class="na">max_idle_backoff_time</span> <span class="o">=</span> <span class="s">${HPX_MAX_IDLE_BACKOFF_TIME:&lt;hpx_idle_backoff_time_max&gt;}</span>

<span class="k">[hpx.stacks]</span>
<span class="na">small_size</span> <span class="o">=</span> <span class="s">${HPX_SMALL_STACK_SIZE:&lt;hpx_small_stack_size&gt;}</span>
<span class="na">medium_size</span> <span class="o">=</span> <span class="s">${HPX_MEDIUM_STACK_SIZE:&lt;hpx_medium_stack_size&gt;}</span>
<span class="na">large_size</span> <span class="o">=</span> <span class="s">${HPX_LARGE_STACK_SIZE:&lt;hpx_large_stack_size&gt;}</span>
<span class="na">huge_size</span> <span class="o">=</span> <span class="s">${HPX_HUGE_STACK_SIZE:&lt;hpx_huge_stack_size&gt;}</span>
<span class="na">use_guard_pages</span> <span class="o">=</span> <span class="s">${HPX_THREAD_GUARD_PAGE:1}</span>
</pre></div>
</div>
<table border="1" class="docutils" id="ini-hpx">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Property</td>
<td>Description</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.location</span></code></td>
<td>This is initialized to the id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> this application
instance is running on.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.component_path</span></code></td>
<td>Duplicates are discarded.
This property can refer to a list of directories separated by <code class="docutils literal notranslate"><span class="pre">':'</span></code>
(Linux, Android, and MacOS) or using <code class="docutils literal notranslate"><span class="pre">';'</span></code> (Windows).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.master_ini_path</span></code></td>
<td>This is initialized to the list of default paths of the main hpx.ini
configuration files. This property can refer to a list of directories
separated by <code class="docutils literal notranslate"><span class="pre">':'</span></code> (Linux, Android, and MacOS) or using <code class="docutils literal notranslate"><span class="pre">';'</span></code>
(Windows).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.ini_path</span></code></td>
<td>This is initialized to the default path where <em>HPX</em> will look for more
ini configuration files. This property can refer to a list of directories
separated by <code class="docutils literal notranslate"><span class="pre">':'</span></code> (Linux, Android, and MacOS) or using <code class="docutils literal notranslate"><span class="pre">';'</span></code>
(Windows).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.os_threads</span></code></td>
<td>This setting reflects the number of OS-threads used for running
<em>HPX</em>-threads. Defaults to number of detected cores (not hyperthreads/PUs).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.localities</span></code></td>
<td>This setting reflects the number of localities the application is running
on. Defaults to <code class="docutils literal notranslate"><span class="pre">1</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.program_name</span></code></td>
<td>This setting reflects the program name of the application instance.
Initialized from the command line <code class="docutils literal notranslate"><span class="pre">argv[0]</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.cmd_line</span></code></td>
<td>This setting reflects the actual command line used to launch this
application instance.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.lock_detection</span></code></td>
<td>This setting verifies that no locks are being held while a <em>HPX</em> thread
is suspended. This setting is applicable only if
<code class="docutils literal notranslate"><span class="pre">HPX_WITH_VERIFY_LOCKS</span></code> is set during configuration in CMake.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.throw_on_held_lock</span></code></td>
<td>This setting causes an exception if during lock detection at least one
lock is being held while a <em>HPX</em> thread is suspended. This setting is
applicable only if <code class="docutils literal notranslate"><span class="pre">HPX_WITH_VERIFY_LOCKS</span></code> is set during configuration
in CMake. This setting has no effect if <code class="docutils literal notranslate"><span class="pre">hpx.lock_detection=0</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.minimal_deadlock_detection</span></code></td>
<td>This setting enables support for minimal deadlock detection for
<em>HPX</em>-threads. By default this is set to <code class="docutils literal notranslate"><span class="pre">1</span></code> (for Debug builds) or to
<code class="docutils literal notranslate"><span class="pre">0</span></code> (for Release, RelWithDebInfo, RelMinSize builds), this setting is
effective only if <code class="docutils literal notranslate"><span class="pre">HPX_WITH_THREAD_DEADLOCK_DETECTION</span></code> is set during
configuration in CMake.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.spinlock_deadlock_detection</span></code></td>
<td>This setting verifies that spinlocks don’t spin longer than specified
using the <code class="docutils literal notranslate"><span class="pre">hpx.spinlock_deadlock_detection_limit</span></code>. This setting is
applicable only if <code class="docutils literal notranslate"><span class="pre">HPX_WITH_SPINLOCK_DEADLOCK_DETECTION</span></code> is set during
configuration in CMake. By default this is set to <code class="docutils literal notranslate"><span class="pre">1</span></code> (for Debug
builds) or to <code class="docutils literal notranslate"><span class="pre">0</span></code> (for Release, RelWithDebInfo, RelMinSize builds).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.spinlock_deadlock_detection_limit</span></code></td>
<td>This setting specifies the upper limit of allowed number of spins that
spinlocks are allowed to perform. This setting is applicable only if
<code class="docutils literal notranslate"><span class="pre">HPX_WITH_SPINLOCK_DEADLOCK_DETECTION</span></code> is set during configuration in
CMake. By default this is set to <code class="docutils literal notranslate"><span class="pre">1000000</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.max_background_threads</span></code></td>
<td>This setting defines the number of threads in the scheduler which are
used to execute background work. By default this is the same as the
number of cores used for the scheduler.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.max_idle_loop_count</span></code></td>
<td>By default this is defined by the preprocessor constant
<code class="docutils literal notranslate"><span class="pre">HPX_IDLE_LOOP_COUNT_MAX</span></code>. This is an internal setting which you should
change only if you know exactly what you are doing.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.max_busy_loop_count</span></code></td>
<td>This setting defines the maximum value of the busy-loop counter in the
scheduler. By default this is defined by the preprocessor constant
<code class="docutils literal notranslate"><span class="pre">HPX_BUSY_LOOP_COUNT_MAX</span></code>. This is an internal setting which you should
change only if you know exactly what you are doing.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.max_idle_backoff_time</span></code></td>
<td>This setting defines the maximum time (in milliseconds) for the scheduler
to sleep after being idle for <code class="docutils literal notranslate"><span class="pre">hpx.max_idle_loop_count</span></code> iterations.
This setting is applicable only if
<code class="docutils literal notranslate"><span class="pre">HPX_WITH_THREAD_MANAGER_IDLE_BACKOFF</span></code> is set during configuration in
CMake. By default this is defined by the preprocessor constant
<code class="docutils literal notranslate"><span class="pre">HPX_IDLE_BACKOFF_TIME_MAX</span></code>. This is an internal setting which you
should change only if you know exactly what you are doing.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.stacks.small_size</span></code></td>
<td>This is initialized to the small stack size to be used by <em>HPX</em>-threads.
Set by default to the value of the compile time preprocessor constant
<code class="docutils literal notranslate"><span class="pre">HPX_SMALL_STACK_SIZE</span></code> (defaults to <code class="docutils literal notranslate"><span class="pre">0x8000</span></code>). This value is used for
all <em>HPX</em> threads by default, except for the thread running <code class="docutils literal notranslate"><span class="pre">hpx_main</span></code>
(which runs on a large stack).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.stacks.medium_size</span></code></td>
<td>This is initialized to the medium stack size to be used by <em>HPX</em>-threads.
Set by default to the value of the compile time preprocessor constant
<code class="docutils literal notranslate"><span class="pre">HPX_MEDIUM_STACK_SIZE</span></code> (defaults to <code class="docutils literal notranslate"><span class="pre">0x20000</span></code>).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.stacks.large_size</span></code></td>
<td>This is initialized to the large stack size to be used by <em>HPX</em>-threads.
Set by default to the value of the compile time preprocessor constant
<code class="docutils literal notranslate"><span class="pre">HPX_LARGE_STACK_SIZE</span></code> (defaults to``0x200000``). This setting is used
by default for the thread running <code class="docutils literal notranslate"><span class="pre">hpx_main</span></code> only.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.stacks.huge_size</span></code></td>
<td>This is initialized to the huge stack size to be used by <em>HPX</em>-threads.
Set by default to the value of the compile time preprocessor constant
<code class="docutils literal notranslate"><span class="pre">HPX_HUGE_STACK_SIZE</span></code> (defaults to <code class="docutils literal notranslate"><span class="pre">0x2000000</span></code>).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.stacks.use_guard_pages</span></code></td>
<td>This entry controls whether the coroutine library will generate stack
guard pages or not. This entry is applicable on Linux only and only if
the <code class="docutils literal notranslate"><span class="pre">HPX_USE_GENERIC_COROUTINE_CONTEXT</span></code> option is not enabled and the
<code class="docutils literal notranslate"><span class="pre">HPX_WITH_THREAD_GUARD_PAGE</span></code> is set to 1 while configuring the build
system. It is set by default to <code class="docutils literal notranslate"><span class="pre">1</span></code>.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="the-hpx-threadpools-configuration-section">
<h4>The <code class="docutils literal notranslate"><span class="pre">hpx.threadpools</span></code> configuration section<a class="headerlink" href="#the-hpx-threadpools-configuration-section" title="Permalink to this headline">¶</a></h4>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[hpx.threadpools]</span>
<span class="na">io_pool_size</span> <span class="o">=</span> <span class="s">${HPX_NUM_IO_POOL_SIZE:2}</span>
<span class="na">parcel_pool_size</span> <span class="o">=</span> <span class="s">${HPX_NUM_PARCEL_POOL_SIZE:2}</span>
<span class="na">timer_pool_size</span> <span class="o">=</span> <span class="s">${HPX_NUM_TIMER_POOL_SIZE:2}</span>
</pre></div>
</div>
<table border="1" class="docutils" id="ini-hpx-thread-pools">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Property</td>
<td>Description</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.threadpools.io_pool_size</span></code></td>
<td>The value of this property defines the number of OS-threads created for
the internal I/O thread pool.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.threadpools.parcel_pool_size</span></code></td>
<td>The value of this property defines the number of OS-threads created for
the internal parcel thread pool.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.threadpools.timer_pool_size</span></code></td>
<td>The value of this property defines the number of OS-threads created for
the internal timer thread pool.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="the-hpx-thread-queue-configuration-section">
<h4>The <code class="docutils literal notranslate"><span class="pre">hpx.thread_queue</span></code> configuration section<a class="headerlink" href="#the-hpx-thread-queue-configuration-section" title="Permalink to this headline">¶</a></h4>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">These setting control internal values used by the thread scheduling queues in
the <em>HPX</em> scheduler. You should not modify these settings except if you know
exactly what you are doing]</p>
</div>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[hpx.thread_queue]</span>
<span class="na">min_tasks_to_steal_pending</span> <span class="o">=</span> <span class="s">${HPX_THREAD_QUEUE_MIN_TASKS_TO_STEAL_PENDING:0}</span>
<span class="na">min_tasks_to_steal_staged</span> <span class="o">=</span> <span class="s">${HPX_THREAD_QUEUE_MIN_TASKS_TO_STEAL_STAGED:10}</span>
<span class="na">min_add_new_count</span> <span class="o">=</span> <span class="s">${HPX_THREAD_QUEUE_MIN_ADD_NEW_COUNT:10}</span>
<span class="na">max_add_new_count</span> <span class="o">=</span> <span class="s">${HPX_THREAD_QUEUE_MAX_ADD_NEW_COUNT:10}</span>
<span class="na">max_delete_count</span> <span class="o">=</span> <span class="s">${HPX_THREAD_QUEUE_MAX_DELETE_COUNT:1000}</span>
</pre></div>
</div>
<table border="1" class="docutils" id="ini-hpx-thread-queue">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Property</td>
<td>Description</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.thread_queue.min_tasks_to_steal_pending</span></code></td>
<td>The value of this property defines the number of pending <em>HPX</em> threads
which have to be available before neighboring cores are allowed to steal
work. The default is to allow stealing always.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.thread_queue.min_tasks_to_steal_staged</span></code></td>
<td>The value of this property defines the number of staged <em>HPX</em> tasks have
which to be available before neighboring cores are allowed to steal work.
The default is to allow stealing only if there are more tan 10 tasks
available.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.thread_queue.min_add_new_count</span></code></td>
<td>The value of this property defines the minimal number tasks to be
converted into <em>HPX</em> threads whenever the thread queues for a core have
run empty.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.thread_queue.max_add_new_count</span></code></td>
<td>The value of this property defines the maximal number tasks to be
converted into <em>HPX</em> threads whenever the thread queues for a core have
run empty.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.thread_queue.max_delete_count</span></code></td>
<td>The value of this property defines the number number of terminated <em>HPX</em>
threads to discard during each invocation of the corresponding function.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="the-hpx-components-configuration-section">
<h4>The <code class="docutils literal notranslate"><span class="pre">hpx.components</span></code> configuration section<a class="headerlink" href="#the-hpx-components-configuration-section" title="Permalink to this headline">¶</a></h4>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[hpx.components]</span>
<span class="na">load_external</span> <span class="o">=</span> <span class="s">${HPX_LOAD_EXTERNAL_COMPONENTS:1}</span>
</pre></div>
</div>
<table border="1" class="docutils" id="ini-hpx-components">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Property</td>
<td>Description</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.components.load_external</span></code></td>
<td>This entry defines whether external components will be loaded on this
<a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>. This entry normally is set to <code class="docutils literal notranslate"><span class="pre">1</span></code> and usually there is
no need to directly change this value. It is automatically set to <code class="docutils literal notranslate"><span class="pre">0</span></code> for
a dedicated <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a> server <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</td>
</tr>
</tbody>
</table>
<p>Additionally, the section <code class="docutils literal notranslate"><span class="pre">hpx.components</span></code> will be populated with the
information gathered from all found components. The information loaded for each
of the components will contain at least the following properties:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[hpx.components.&lt;component_instance_name&gt;]</span>
<span class="na">name</span> <span class="o">=</span> <span class="s">&lt;component_name&gt;</span>
<span class="na">path</span> <span class="o">=</span> <span class="s">&lt;full_path_of_the_component_module&gt;</span>
<span class="na">enabled</span> <span class="o">=</span> <span class="s">$[hpx.components.load_external]</span>
</pre></div>
</div>
<table border="1" class="docutils" id="ini-hpx-components-custom">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Property</td>
<td>Description</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.components.&lt;component_instance_name&gt;.name</span></code></td>
<td>This is the name of a component, usually the same as the second argument
to the macro used while registering the component with
<a class="reference internal" href="../api.html#c.HPX_REGISTER_COMPONENT" title="HPX_REGISTER_COMPONENT"><code class="xref c c-macro docutils literal notranslate"><span class="pre">HPX_REGISTER_COMPONENT</span></code></a>. Set by the component factory.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.components.&lt;component_instance_name&gt;.path</span></code></td>
<td>This is either the full path file name of the component module or the
directory the component module is located in. In this case, the component
module name will be derived from the property
<code class="docutils literal notranslate"><span class="pre">hpx.components.&lt;component_instance_name&gt;.name</span></code>. Set by the component
factory.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.components.&lt;component_instance_name&gt;.enabled</span></code></td>
<td>This setting explicitly enables or disables the component. This is an
optional property, <em>HPX</em> assumed that the component is enabled if it is
not defined.</td>
</tr>
</tbody>
</table>
<p>The value for <code class="docutils literal notranslate"><span class="pre">&lt;component_instance_name&gt;</span></code> is usually the same as for the
corresponding <code class="docutils literal notranslate"><span class="pre">name</span></code> property. However generally it can be defined to any
arbitrary instance name. It is used to distinguish between different ini
sections, one for each component.</p>
</div>
<div class="section" id="the-hpx-parcel-configuration-section">
<h4>The <code class="docutils literal notranslate"><span class="pre">hpx.parcel</span></code> configuration section<a class="headerlink" href="#the-hpx-parcel-configuration-section" title="Permalink to this headline">¶</a></h4>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[hpx.parcel]</span>
<span class="na">address</span> <span class="o">=</span> <span class="s">${HPX_PARCEL_SERVER_ADDRESS:&lt;hpx_initial_ip_address&gt;}</span>
<span class="na">port</span> <span class="o">=</span> <span class="s">${HPX_PARCEL_SERVER_PORT:&lt;hpx_initial_ip_port&gt;}</span>
<span class="na">bootstrap</span> <span class="o">=</span> <span class="s">${HPX_PARCEL_BOOTSTRAP:&lt;hpx_parcel_bootstrap&gt;}</span>
<span class="na">max_connections</span> <span class="o">=</span> <span class="s">${HPX_PARCEL_MAX_CONNECTIONS:&lt;hpx_parcel_max_connections&gt;}</span>
<span class="na">max_connections_per_locality</span> <span class="o">=</span> <span class="s">${HPX_PARCEL_MAX_CONNECTIONS_PER_LOCALITY:&lt;hpx_parcel_max_connections_per_locality&gt;}</span>
<span class="na">max_message_size</span> <span class="o">=</span> <span class="s">${HPX_PARCEL_MAX_MESSAGE_SIZE:&lt;hpx_parcel_max_message_size&gt;}</span>
<span class="na">max_outbound_message_size</span> <span class="o">=</span> <span class="s">${HPX_PARCEL_MAX_OUTBOUND_MESSAGE_SIZE:&lt;hpx_parcel_max_outbound_message_size&gt;}</span>
<span class="na">array_optimization</span> <span class="o">=</span> <span class="s">${HPX_PARCEL_ARRAY_OPTIMIZATION:1}</span>
<span class="na">zero_copy_optimization</span> <span class="o">=</span> <span class="s">${HPX_PARCEL_ZERO_COPY_OPTIMIZATION:$[hpx.parcel.array_optimization]}</span>
<span class="na">async_serialization</span> <span class="o">=</span> <span class="s">${HPX_PARCEL_ASYNC_SERIALIZATION:1}</span>
<span class="na">message_handlers</span> <span class="o">=</span> <span class="s">${HPX_PARCEL_MESSAGE_HANDLERS:0}</span>
</pre></div>
</div>
<table border="1" class="docutils" id="ini-hpx-parcel">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Property</td>
<td>Description</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.parcel.address</span></code></td>
<td>This property defines the default IP address to be used for the <a class="reference internal" href="../terminology.html#term-parcel"><span class="xref std std-term">parcel</span></a>
layer to listen to. This IP address will be used as long as no other
values are specified (for instance using the <a class="reference internal" href="#cmdoption-hpx-hpx"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:hpx</span></code></a> command
line option). The expected format is any valid IP address or domain name
format which can be resolved into an IP address. The default depends on
the compile time preprocessor constant <code class="docutils literal notranslate"><span class="pre">HPX_INITIAL_IP_ADDRESS</span></code>
(<code class="docutils literal notranslate"><span class="pre">&quot;127.0.0.1&quot;</span></code>).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.parcel.port</span></code></td>
<td>This property defines the default IP port to be used for the <a class="reference internal" href="../terminology.html#term-parcel"><span class="xref std std-term">parcel</span></a> layer
to listen to. This IP port will be used as long as no other values are
specified (for instance using the <a class="reference internal" href="#cmdoption-hpx-hpx"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:hpx</span></code></a> command line
option). The default depends on the compile time preprocessor
constant <code class="docutils literal notranslate"><span class="pre">HPX_INITIAL_IP_PORT</span></code> (<code class="docutils literal notranslate"><span class="pre">7910</span></code>).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.parcel.bootstrap</span></code></td>
<td>This property defines which parcelport type should be used during
application bootstrap. The default depends on the compile time
preprocessor constant <code class="docutils literal notranslate"><span class="pre">HPX_PARCEL_BOOTSTRAP</span></code> (<code class="docutils literal notranslate"><span class="pre">&quot;tcp&quot;</span></code>).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.parcel.max_connections</span></code></td>
<td>This property defines how many network connections between different
localities are overall kept alive by each of <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>. The
default depends on the compile time preprocessor constant
<code class="docutils literal notranslate"><span class="pre">HPX_PARCEL_MAX_CONNECTIONS</span></code> (<code class="docutils literal notranslate"><span class="pre">512</span></code>).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.parcel.max_connections_per_locality</span></code></td>
<td>This property defines the maximum number of network connections that one
<a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> will open to another <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>. The default depends
on the compile time preprocessor constant
<code class="docutils literal notranslate"><span class="pre">HPX_PARCEL_MAX_CONNECTIONS_PER_LOCALITY</span></code> (<code class="docutils literal notranslate"><span class="pre">4</span></code>).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.parcel.max_message_size</span></code></td>
<td>This property defines the maximum allowed message size which will be
transferrable through the <a class="reference internal" href="../terminology.html#term-parcel"><span class="xref std std-term">parcel</span></a> layer. The default depends on the
compile time preprocessor constant <code class="docutils literal notranslate"><span class="pre">HPX_PARCEL_MAX_MESSAGE_SIZE</span></code>
(<code class="docutils literal notranslate"><span class="pre">1000000000</span></code> bytes).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.parcel.max_outbound_message_size</span></code></td>
<td>This property defines the maximum allowed outbound coalesced message size
which will be transferrable through the parcel layer. The default depends
on the compile time preprocessor constant
<code class="docutils literal notranslate"><span class="pre">HPX_PARCEL_MAX_OUTBOUND_MESSAGE_SIZE</span></code> (<code class="docutils literal notranslate"><span class="pre">1000000</span></code> bytes).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.parcel.array_optimization</span></code></td>
<td>This property defines whether this <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> is allowed to utilize
array optimizations during serialization of <a class="reference internal" href="../terminology.html#term-parcel"><span class="xref std std-term">parcel</span></a> data. The default is
<code class="docutils literal notranslate"><span class="pre">1</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.parcel.zero_copy_optimization</span></code></td>
<td>This property defines whether this <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> is allowed to utilize
zero copy optimizations during serialization of <a class="reference internal" href="../terminology.html#term-parcel"><span class="xref std std-term">parcel</span></a> data. The default
is the same value as set for <code class="docutils literal notranslate"><span class="pre">hpx.parcel.array_optimization</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.parcel.async_serialization</span></code></td>
<td>This property defines whether this <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> is allowed to spawn a
new thread for serialization (this is both for encoding and decoding
parcels). The default is <code class="docutils literal notranslate"><span class="pre">1</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.parcel.message_handlers</span></code></td>
<td>This property defines whether message handlers are loaded. The default is
<code class="docutils literal notranslate"><span class="pre">0</span></code>.</td>
</tr>
</tbody>
</table>
<p>The following settings relate to the TCP/IP parcelport.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[hpx.parcel.tcp]</span>
<span class="na">enable</span> <span class="o">=</span> <span class="s">${HPX_HAVE_PARCELPORT_TCP:$[hpx.parcel.enabled]}</span>
<span class="na">array_optimization</span> <span class="o">=</span> <span class="s">${HPX_PARCEL_TCP_ARRAY_OPTIMIZATION:$[hpx.parcel.array_optimization]}</span>
<span class="na">zero_copy_optimization</span> <span class="o">=</span> <span class="s">${HPX_PARCEL_TCP_ZERO_COPY_OPTIMIZATION:$[hpx.parcel.zero_copy_optimization]}</span>
<span class="na">async_serialization</span> <span class="o">=</span> <span class="s">${HPX_PARCEL_TCP_ASYNC_SERIALIZATION:$[hpx.parcel.async_serialization]}</span>
<span class="na">parcel_pool_size</span> <span class="o">=</span> <span class="s">${HPX_PARCEL_TCP_PARCEL_POOL_SIZE:$[hpx.threadpools.parcel_pool_size]}</span>
<span class="na">max_connections</span> <span class="o">=</span>  <span class="s">${HPX_PARCEL_TCP_MAX_CONNECTIONS:$[hpx.parcel.max_connections]}</span>
<span class="na">max_connections_per_locality</span> <span class="o">=</span> <span class="s">${HPX_PARCEL_TCP_MAX_CONNECTIONS_PER_LOCALITY:$[hpx.parcel.max_connections_per_locality]}</span>
<span class="na">max_message_size</span> <span class="o">=</span>  <span class="s">${HPX_PARCEL_TCP_MAX_MESSAGE_SIZE:$[hpx.parcel.max_message_size]}</span>
<span class="na">max_outbound_message_size</span> <span class="o">=</span>  <span class="s">${HPX_PARCEL_TCP_MAX_OUTBOUND_MESSAGE_SIZE:$[hpx.parcel.max_outbound_message_size]}</span>
</pre></div>
</div>
<table border="1" class="docutils" id="ini-hpx-parcel-tcp">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Property</td>
<td>Description</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.parcel.tcp.enable</span></code></td>
<td>Enable the use of the default TCP parcelport. Note that the initial
bootstrap of the overall <em>HPX</em> application will be performed using the
default TCP connections. This parcelport is enabled by default. This will
be disabled only if MPI is enabled (see below).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.parcel.tcp.array_optimization</span></code></td>
<td>This property defines whether this <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> is allowed to utilize
array optimizations in the TCP/IP parcelport during serialization of
parcel data. The default is the same value as set for
<code class="docutils literal notranslate"><span class="pre">hpx.parcel.array_optimization</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.parcel.tcp.zero_copy_optimization</span></code></td>
<td>This property defines whether this <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> is allowed to utilize
zero copy optimizations in the TCP/IP parcelport during serialization of
parcel data. The default is the same value as set for
<code class="docutils literal notranslate"><span class="pre">hpx.parcel.zero_copy_optimization</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.parcel.tcp.async_serialization</span></code></td>
<td>This property defines whether this <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> is allowed to spawn a
new thread for serialization in the TCP/IP parcelport (this is both for
encoding and decoding parcels). The default is the same value as set for
<code class="docutils literal notranslate"><span class="pre">hpx.parcel.async_serialization</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.parcel.tcp.parcel_pool_size</span></code></td>
<td>The value of this property defines the number of OS-threads created for
the internal parcel thread pool of the TCP <a class="reference internal" href="../terminology.html#term-parcel"><span class="xref std std-term">parcel</span></a> port. The default is
taken from <code class="docutils literal notranslate"><span class="pre">hpx.threadpools.parcel_pool_size</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.parcel.tcp.max_connections</span></code></td>
<td>This property defines how many network connections between different
localities are overall kept alive by each of <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>. The
default is taken from <code class="docutils literal notranslate"><span class="pre">hpx.parcel.max_connections</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.parcel.tcp.max_connections_per_locality</span></code></td>
<td>This property defines the maximum number of network connections that one
<a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> will open to another <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>. The default is
taken from <code class="docutils literal notranslate"><span class="pre">hpx.parcel.max_connections_per_locality</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.parcel.tcp.max_message_size</span></code></td>
<td>This property defines the maximum allowed message size which will be
transferrable through the <a class="reference internal" href="../terminology.html#term-parcel"><span class="xref std std-term">parcel</span></a> layer. The default is taken from
<code class="docutils literal notranslate"><span class="pre">hpx.parcel.max_message_size</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.parcel.tcp.max_outbound_message_size</span></code></td>
<td>This property defines the maximum allowed outbound coalesced message size
which will be transferrable through the <a class="reference internal" href="../terminology.html#term-parcel"><span class="xref std std-term">parcel</span></a> layer. The default is
taken from <code class="docutils literal notranslate"><span class="pre">hpx.parcel.max_outbound_connections</span></code>.</td>
</tr>
</tbody>
</table>
<p>The following settings relate to the MPI parcelport. These settings take effect
only if the compile time constant <code class="docutils literal notranslate"><span class="pre">HPX_HAVE_PARCELPORT_MPI</span></code> is set (the
equivalent cmake variable is <code class="docutils literal notranslate"><span class="pre">HPX_WITH_PARCELPORT_MPI</span></code> and has to be set to
<code class="docutils literal notranslate"><span class="pre">ON</span></code>.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[hpx.parcel.mpi]</span>
<span class="na">enable</span> <span class="o">=</span> <span class="s">${HPX_HAVE_PARCELPORT_MPI:$[hpx.parcel.enabled]}</span>
<span class="na">env</span> <span class="o">=</span> <span class="s">${HPX_HAVE_PARCELPORT_MPI_ENV:MV2_COMM_WORLD_RANK,PMI_RANK,OMPI_COMM_WORLD_SIZE,ALPS_APP_PE}</span>
<span class="na">multithreaded</span> <span class="o">=</span> <span class="s">${HPX_HAVE_PARCELPORT_MPI_MULTITHREADED:0}</span>
<span class="na">rank</span> <span class="o">=</span> <span class="s">&lt;MPI_rank&gt;</span>
<span class="na">processor_name</span> <span class="o">=</span> <span class="s">&lt;MPI_processor_name&gt;</span>
<span class="na">array_optimization</span> <span class="o">=</span> <span class="s">${HPX_HAVE_PARCEL_MPI_ARRAY_OPTIMIZATION:$[hpx.parcel.array_optimization]}</span>
<span class="na">zero_copy_optimization</span> <span class="o">=</span> <span class="s">${HPX_HAVE_PARCEL_MPI_ZERO_COPY_OPTIMIZATION:$[hpx.parcel.zero_copy_optimization]}</span>
<span class="na">use_io_pool</span> <span class="o">=</span> <span class="s">${HPX_HAVE_PARCEL_MPI_USE_IO_POOL:$1}</span>
<span class="na">async_serialization</span> <span class="o">=</span> <span class="s">${HPX_HAVE_PARCEL_MPI_ASYNC_SERIALIZATION:$[hpx.parcel.async_serialization]}</span>
<span class="na">parcel_pool_size</span> <span class="o">=</span> <span class="s">${HPX_HAVE_PARCEL_MPI_PARCEL_POOL_SIZE:$[hpx.threadpools.parcel_pool_size]}</span>
<span class="na">max_connections</span> <span class="o">=</span>  <span class="s">${HPX_HAVE_PARCEL_MPI_MAX_CONNECTIONS:$[hpx.parcel.max_connections]}</span>
<span class="na">max_connections_per_locality</span> <span class="o">=</span> <span class="s">${HPX_HAVE_PARCEL_MPI_MAX_CONNECTIONS_PER_LOCALITY:$[hpx.parcel.max_connections_per_locality]}</span>
<span class="na">max_message_size</span> <span class="o">=</span>  <span class="s">${HPX_HAVE_PARCEL_MPI_MAX_MESSAGE_SIZE:$[hpx.parcel.max_message_size]}</span>
<span class="na">max_outbound_message_size</span> <span class="o">=</span>  <span class="s">${HPX_HAVE_PARCEL_MPI_MAX_OUTBOUND_MESSAGE_SIZE:$[hpx.parcel.max_outbound_message_size]}</span>
</pre></div>
</div>
<table border="1" class="docutils" id="ini-hpx-parcel-mpi">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Property</td>
<td>Description</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.parcel.mpi.enable</span></code></td>
<td>Enable the use of the MPI parcelport. HPX tries to detect if the
application was started within a parallel MPI environment. If the
detection was succesful, the MPI parcelport is enabled by default. To
explicitly disable the MPI parcelport, set to 0. Note that the initial
bootstrap of the overall <em>HPX</em> application will be performed using MPI as
well.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.parcel.mpi.env</span></code></td>
<td>This property influences which environment variables (comma separated)
will be analyzed to find out whether the application was invoked by MPI.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.parcel.mpi.multithreaded</span></code></td>
<td>This property is used to determine what threading mode to use when
initializing MPI. If this setting is <code class="docutils literal notranslate"><span class="pre">0</span></code> <em>HPX</em> will initialize MPI with
<code class="docutils literal notranslate"><span class="pre">MPI_THREAD_SINGLE</span></code> if the value is not equal to <code class="docutils literal notranslate"><span class="pre">0</span></code> <em>HPX</em> will
initialize MPI with <code class="docutils literal notranslate"><span class="pre">MPI_THREAD_MULTI</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.parcel.mpi.rank</span></code></td>
<td>This property will be initialized to the MPI rank of the
<a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.parcel.mpi.processor_name</span></code></td>
<td>This property will be initialized to the MPI processor name of the
<a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.parcel.mpi.array_optimization</span></code></td>
<td>This property defines whether this <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> is allowed to utilize
array optimizations in the MPI parcelport during serialization of
<a class="reference internal" href="../terminology.html#term-parcel"><span class="xref std std-term">parcel</span></a> data. The default is the same value as set for
<code class="docutils literal notranslate"><span class="pre">hpx.parcel.array_optimization</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.parcel.mpi.zero_copy_optimization</span></code></td>
<td>This property defines whether this <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> is allowed to utilize
zero copy optimizations in the MPI parcelport during serialization of
parcel data. The default is the same value as set for
<code class="docutils literal notranslate"><span class="pre">hpx.parcel.zero_copy_optimization</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.parcel.mpi.use_io_pool</span></code></td>
<td>This property can be set to run the progress thread inside of HPX threads
instead of a separate thread pool. The default is <code class="docutils literal notranslate"><span class="pre">1</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.parcel.mpi.async_serialization</span></code></td>
<td>This property defines whether this <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> is allowed to spawn a
new thread for serialization in the MPI parcelport (this is both for
encoding and decoding parcels). The default is the same value as set for
<code class="docutils literal notranslate"><span class="pre">hpx.parcel.async_serialization</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.parcel.mpi.parcel_pool_size</span></code></td>
<td>The value of this property defines the number of OS-threads created for
the internal parcel thread pool of the MPI <a class="reference internal" href="../terminology.html#term-parcel"><span class="xref std std-term">parcel</span></a> port. The default is
taken from <code class="docutils literal notranslate"><span class="pre">hpx.threadpools.parcel_pool_size</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.parcel.mpi.max_connections</span></code></td>
<td>This property defines how many network connections between different
localities are overall kept alive by each of <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>. The
default is taken from <code class="docutils literal notranslate"><span class="pre">hpx.parcel.max_connections</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.parcel.mpi.max_connections_per_locality</span></code></td>
<td>This property defines the maximum number of network connections that one
<a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> will open to another <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>. The default is
taken from <code class="docutils literal notranslate"><span class="pre">hpx.parcel.max_connections_per_locality</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.parcel.mpi.max_message_size</span></code></td>
<td>This property defines the maximum allowed message size which will be
transferrable through the <a class="reference internal" href="../terminology.html#term-parcel"><span class="xref std std-term">parcel</span></a> layer. The default is taken from
<code class="docutils literal notranslate"><span class="pre">hpx.parcel.max_message_size</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.parcel.mpi.max_outbound_message_size</span></code></td>
<td>This property defines the maximum allowed outbound coalesced message size
which will be transferrable through the <a class="reference internal" href="../terminology.html#term-parcel"><span class="xref std std-term">parcel</span></a> layer. The default is
taken from <code class="docutils literal notranslate"><span class="pre">hpx.parcel.max_outbound_connections</span></code>.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="the-hpx-agas-configuration-section">
<h4>The <code class="docutils literal notranslate"><span class="pre">hpx.agas</span></code> configuration section<a class="headerlink" href="#the-hpx-agas-configuration-section" title="Permalink to this headline">¶</a></h4>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[hpx.agas]</span>
<span class="na">address</span> <span class="o">=</span> <span class="s">${HPX_AGAS_SERVER_ADDRESS:&lt;hpx_initial_ip_address&gt;}</span>
<span class="na">port</span> <span class="o">=</span> <span class="s">${HPX_AGAS_SERVER_PORT:&lt;hpx_initial_ip_port&gt;}</span>
<span class="na">service_mode</span> <span class="o">=</span> <span class="s">hosted</span>
<span class="na">dedicated_server</span> <span class="o">=</span> <span class="s">0</span>
<span class="na">max_pending_refcnt_requests</span> <span class="o">=</span> <span class="s">${HPX_AGAS_MAX_PENDING_REFCNT_REQUESTS:&lt;hpx_initial_agas_max_pending_refcnt_requests&gt;}</span>
<span class="na">use_caching</span> <span class="o">=</span> <span class="s">${HPX_AGAS_USE_CACHING:1}</span>
<span class="na">use_range_caching</span> <span class="o">=</span> <span class="s">${HPX_AGAS_USE_RANGE_CACHING:1}</span>
<span class="na">local_cache_size</span> <span class="o">=</span> <span class="s">${HPX_AGAS_LOCAL_CACHE_SIZE:&lt;hpx_agas_local_cache_size&gt;}</span>
</pre></div>
</div>
<table border="1" class="docutils" id="ini-hpx-agas">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Property</td>
<td>Description</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.agas.address</span></code></td>
<td>This property defines the default IP address to be used for the
<a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a> root server. This IP address will be used as long as no
other values are specified (for instance using the <a class="reference internal" href="#cmdoption-hpx-agas"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:agas</span></code></a>
command line option). The expected format is any valid IP address or
domain name format which can be resolved into an IP address. The default
depends on the compile time preprocessor constant
<code class="docutils literal notranslate"><span class="pre">HPX_INITIAL_IP_ADDRESS</span></code> (<code class="docutils literal notranslate"><span class="pre">&quot;127.0.0.1&quot;</span></code>).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.agas.port</span></code></td>
<td>This property defines the default IP port to be used for the <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a>
root server. This IP port will be used as long as no other values are
specified (for instance using the <a class="reference internal" href="#cmdoption-hpx-agas"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:agas</span></code></a> command line
option). The default depends on the compile time preprocessor constant
<code class="docutils literal notranslate"><span class="pre">HPX_INITIAL_IP_PORT</span></code> (<code class="docutils literal notranslate"><span class="pre">7009</span></code>).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.agas.service_mode</span></code></td>
<td>This property specifies what type of <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a> service is running on
this <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>. Currently, two modes exist. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>
that acts as the <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a> server runs in``bootstrap``mode. All other
localities are in``hosted``mode.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.agas.dedicated_server</span></code></td>
<td>This property specifies whether the <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a> server is exclusively
running <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a> services and not hosting any application components.
It is a boolean value. Set to <code class="docutils literal notranslate"><span class="pre">1</span></code> if
<a class="reference internal" href="#cmdoption-hpx-run-agas-server-only"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:run-agas-server-only</span></code></a> is present.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.agas.max_pending_refcnt_requests</span></code></td>
<td>This property defines the number of reference counting requests
(increments or decrements) to buffer. The default depends on the compile
time preprocessor constant
<code class="docutils literal notranslate"><span class="pre">HPX_INITIAL_AGAS_MAX_PENDING_REFCNT_REQUESTS</span></code> (<code class="docutils literal notranslate"><span class="pre">4096</span></code>).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.agas.use_caching</span></code></td>
<td>This property specifies whether a software address translation cache is
used. It is a boolean value. Defaults to``1``</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.agas.use_range_caching</span></code></td>
<td>This property specifies whether range-based caching is used by the
software address translation cache. This property is ignored if
<cite>hpx.agas.use_caching</cite> is false. It is a boolean value. Defaults to <code class="docutils literal notranslate"><span class="pre">1</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.agas.local_cache_size</span></code></td>
<td>This property defines the size of the software address translation cache
for <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a> services. This property is ignored
if``hpx.agas.use_caching``is false. Note that if
<code class="docutils literal notranslate"><span class="pre">hpx.agas.use_range_caching</span></code> is true, this size will refer to the
maximum number of ranges stored in the cache, not the number of entries
spanned by the cache. The default depends on the compile time
preprocessor constant <code class="docutils literal notranslate"><span class="pre">HPX_AGAS_LOCAL_CACHE_SIZE</span></code> (<code class="docutils literal notranslate"><span class="pre">4096</span></code>).</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="the-hpx-commandline-configuration-section">
<h4>The <code class="docutils literal notranslate"><span class="pre">hpx.commandline</span></code> configuration section<a class="headerlink" href="#the-hpx-commandline-configuration-section" title="Permalink to this headline">¶</a></h4>
<p>The following table lists the definition of all pre-defined command line option
shortcuts. For more information about commandline options see the section
<a class="reference internal" href="#commandline"><span class="std std-ref">HPX Command Line Options</span></a>.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[hpx.commandline]</span>
<span class="na">aliasing</span> <span class="o">=</span> <span class="s">${HPX_COMMANDLINE_ALIASING:1}</span>
<span class="na">allow_unknown</span> <span class="o">=</span> <span class="s">${HPX_COMMANDLINE_ALLOW_UNKNOWN:0}</span>

<span class="k">[hpx.commandline.aliases]</span>
<span class="na">-a</span> <span class="o">=</span> <span class="s">--hpx:agas</span>
<span class="na">-c</span> <span class="o">=</span> <span class="s">--hpx:console</span>
<span class="na">-h</span> <span class="o">=</span> <span class="s">--hpx:help</span>
<span class="na">-I</span> <span class="o">=</span> <span class="s">--hpx:ini</span>
<span class="na">-l</span> <span class="o">=</span> <span class="s">--hpx:localities</span>
<span class="na">-p</span> <span class="o">=</span> <span class="s">--hpx:app-config</span>
<span class="na">-q</span> <span class="o">=</span> <span class="s">--hpx:queuing</span>
<span class="na">-r</span> <span class="o">=</span> <span class="s">--hpx:run-agas-server</span>
<span class="na">-t</span> <span class="o">=</span> <span class="s">--hpx:threads</span>
<span class="na">-v</span> <span class="o">=</span> <span class="s">--hpx:version</span>
<span class="na">-w</span> <span class="o">=</span> <span class="s">--hpx:worker</span>
<span class="na">-x</span> <span class="o">=</span> <span class="s">--hpx:hpx</span>
<span class="na">-0</span> <span class="o">=</span> <span class="s">--hpx:node=0</span>
<span class="na">-1</span> <span class="o">=</span> <span class="s">--hpx:node=1</span>
<span class="na">-2</span> <span class="o">=</span> <span class="s">--hpx:node=2</span>
<span class="na">-3</span> <span class="o">=</span> <span class="s">--hpx:node=3</span>
<span class="na">-4</span> <span class="o">=</span> <span class="s">--hpx:node=4</span>
<span class="na">-5</span> <span class="o">=</span> <span class="s">--hpx:node=5</span>
<span class="na">-6</span> <span class="o">=</span> <span class="s">--hpx:node=6</span>
<span class="na">-7</span> <span class="o">=</span> <span class="s">--hpx:node=7</span>
<span class="na">-8</span> <span class="o">=</span> <span class="s">--hpx:node=8</span>
<span class="na">-9</span> <span class="o">=</span> <span class="s">--hpx:node=9</span>
</pre></div>
</div>
<table border="1" class="docutils" id="ini-hpx-shortuts">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Property</td>
<td>Description</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.commandline.aliasing</span></code></td>
<td>Enable command line aliases as defined in the section
<code class="docutils literal notranslate"><span class="pre">hpx.commandline.aliases</span></code> (see below). Defaults to <code class="docutils literal notranslate"><span class="pre">1</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.commandline.allow_unknown</span></code></td>
<td>Allow for unknown command line options to be passed through to
<code class="docutils literal notranslate"><span class="pre">hpx_main()</span></code> Defaults to <code class="docutils literal notranslate"><span class="pre">0</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.commandline.aliases.-a</span></code></td>
<td>On the commandline, <code class="docutils literal notranslate"><span class="pre">-a</span></code> expands to: <a class="reference internal" href="#cmdoption-hpx-agas"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:agas</span></code></a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.commandline.aliases.-c</span></code></td>
<td>On the commandline, <code class="docutils literal notranslate"><span class="pre">-c</span></code> expands to: <a class="reference internal" href="#cmdoption-hpx-console"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:console</span></code></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.commandline.aliases.-h</span></code></td>
<td>On the commandline, <code class="docutils literal notranslate"><span class="pre">-h</span></code> expands to: <a class="reference internal" href="#cmdoption-hpx-help"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:help</span></code></a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.commandline.aliases.--help</span></code></td>
<td>On the commandline, <code class="docutils literal notranslate"><span class="pre">--help</span></code> expands to: <a class="reference internal" href="#cmdoption-hpx-help"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:help</span></code></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.commandline.aliases.-I</span></code></td>
<td>On the commandline, <code class="docutils literal notranslate"><span class="pre">-I</span></code> expands to: <a class="reference internal" href="#cmdoption-hpx-ini"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:ini</span></code></a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.commandline.aliases.-l</span></code></td>
<td>On the commandline, <code class="docutils literal notranslate"><span class="pre">-l</span></code> expands to: <a class="reference internal" href="#cmdoption-hpx-localities"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:localities</span></code></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.commandline.aliases.-p</span></code></td>
<td>On the commandline, <code class="docutils literal notranslate"><span class="pre">-p</span></code> expands to: <a class="reference internal" href="#cmdoption-hpx-app-config"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:app-config</span></code></a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.commandline.aliases.-q</span></code></td>
<td>On the commandline, <code class="docutils literal notranslate"><span class="pre">-q</span></code> expands to: <a class="reference internal" href="#cmdoption-hpx-queuing"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:queuing</span></code></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.commandline.aliases.-r</span></code></td>
<td>On the commandline, <code class="docutils literal notranslate"><span class="pre">-r</span></code> expands to: <a class="reference internal" href="#cmdoption-hpx-run-agas-server"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:run-agas-server</span></code></a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.commandline.aliases.-t</span></code></td>
<td>On the commandline, <code class="docutils literal notranslate"><span class="pre">-t</span></code> expands to: <a class="reference internal" href="#cmdoption-hpx-threads"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:threads</span></code></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.commandline.aliases.-v</span></code></td>
<td>On the commandline, <code class="docutils literal notranslate"><span class="pre">-v</span></code> expands to: <a class="reference internal" href="#cmdoption-hpx-version"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:version</span></code></a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.commandline.aliases.--version</span></code></td>
<td>On the commandline, <code class="docutils literal notranslate"><span class="pre">--version</span></code> expands to: <a class="reference internal" href="#cmdoption-hpx-version"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:version</span></code></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.commandline.aliases.-w</span></code></td>
<td>On the commandline, <code class="docutils literal notranslate"><span class="pre">-w</span></code> expands to: <a class="reference internal" href="#cmdoption-hpx-worker"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:worker</span></code></a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.commandline.aliases.-x</span></code></td>
<td>On the commandline, <code class="docutils literal notranslate"><span class="pre">-x</span></code> expands to: <a class="reference internal" href="#cmdoption-hpx-hpx"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:hpx</span></code></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.commandline.aliases.-0</span></code></td>
<td>On the commandline, <code class="docutils literal notranslate"><span class="pre">-0</span></code> expands to: <a class="reference internal" href="#cmdoption-hpx-node"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:node</span></code></a><code class="docutils literal notranslate"><span class="pre">=0</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.commandline.aliases.-1</span></code></td>
<td>On the commandline, <code class="docutils literal notranslate"><span class="pre">-1</span></code> expands to: <a class="reference internal" href="#cmdoption-hpx-node"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:node</span></code></a><code class="docutils literal notranslate"><span class="pre">=1</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.commandline.aliases.-2</span></code></td>
<td>On the commandline, <code class="docutils literal notranslate"><span class="pre">-2</span></code> expands to: <a class="reference internal" href="#cmdoption-hpx-node"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:node</span></code></a><code class="docutils literal notranslate"><span class="pre">=2</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.commandline.aliases.-3</span></code></td>
<td>On the commandline, <code class="docutils literal notranslate"><span class="pre">-3</span></code> expands to: <a class="reference internal" href="#cmdoption-hpx-node"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:node</span></code></a><code class="docutils literal notranslate"><span class="pre">=3</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.commandline.aliases.-4</span></code></td>
<td>On the commandline, <code class="docutils literal notranslate"><span class="pre">-4</span></code> expands to: <a class="reference internal" href="#cmdoption-hpx-node"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:node</span></code></a><code class="docutils literal notranslate"><span class="pre">=4</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.commandline.aliases.-5</span></code></td>
<td>On the commandline, <code class="docutils literal notranslate"><span class="pre">-5</span></code> expands to: <a class="reference internal" href="#cmdoption-hpx-node"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:node</span></code></a><code class="docutils literal notranslate"><span class="pre">=5</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.commandline.aliases.-6</span></code></td>
<td>On the commandline, <code class="docutils literal notranslate"><span class="pre">-6</span></code> expands to: <a class="reference internal" href="#cmdoption-hpx-node"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:node</span></code></a><code class="docutils literal notranslate"><span class="pre">=6</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.commandline.aliases.-7</span></code></td>
<td>On the commandline, <code class="docutils literal notranslate"><span class="pre">-7</span></code> expands to: <a class="reference internal" href="#cmdoption-hpx-node"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:node</span></code></a><code class="docutils literal notranslate"><span class="pre">=7</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hpx.commandline.aliases.-8</span></code></td>
<td>On the commandline, <code class="docutils literal notranslate"><span class="pre">-8</span></code> expands to: <a class="reference internal" href="#cmdoption-hpx-node"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:node</span></code></a><code class="docutils literal notranslate"><span class="pre">=8</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">hpx.commandline.aliases.-9</span></code></td>
<td>On the commandline, <code class="docutils literal notranslate"><span class="pre">-9</span></code> expands to: <a class="reference internal" href="#cmdoption-hpx-node"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:node</span></code></a><code class="docutils literal notranslate"><span class="pre">=9</span></code>.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="loading-ini-files">
<span id="id2"></span><h3>Loading INI files<a class="headerlink" href="#loading-ini-files" title="Permalink to this headline">¶</a></h3>
<p>During startup and after the internal database has been initialized as
described in the section <a class="reference internal" href="#config-defaults"><span class="std std-ref">Built-in Default Configuration Settings</span></a>, <em>HPX</em> will try to locate and
load additional ini files to be used as a source for configuration properties.
This allows for a wide spectrum of additional customization possibilities by
the user and system administrators. The sequence of locations where <em>HPX</em>
will try loading the ini files is well defined and documented in this section.
All ini files found are merged into the internal configuration database.
The merge operation itself conforms to the rules as described in the section
<a class="reference internal" href="#ini-format"><span class="std std-ref">The HPX INI File Format</span></a>.</p>
<ol class="arabic simple">
<li>Load all component shared libraries found in the directories specified by the
property <code class="docutils literal notranslate"><span class="pre">hpx.component_path</span></code> and retrieve their default configuration
information (see section <a class="reference internal" href="#loading-components"><span class="std std-ref">Loading components</span></a> for more details). This
property can refer to a list of directories separated by <code class="docutils literal notranslate"><span class="pre">':'</span></code> (Linux,
Android, and MacOS) or using <code class="docutils literal notranslate"><span class="pre">';'</span></code> (Windows).</li>
<li>Load all files named <code class="docutils literal notranslate"><span class="pre">hpx.ini</span></code> in the directories referenced by the property
<code class="docutils literal notranslate"><span class="pre">hpx.master_ini_path</span></code> This property can refer to a list of directories
separated by <code class="docutils literal notranslate"><span class="pre">':'</span></code> (Linux, Android, and MacOS) or using <code class="docutils literal notranslate"><span class="pre">';'</span></code> (Windows).</li>
<li>Load a file named <code class="docutils literal notranslate"><span class="pre">.hpx.ini</span></code> in the current working directory, e.g. the
directory the application was invoked from.</li>
<li>Load a file referenced by the environment variable <code class="docutils literal notranslate"><span class="pre">HPX_INI</span></code>. This variable
is expected to provide the full path name of the ini configuration file (if
any).</li>
<li>Load a file named <code class="docutils literal notranslate"><span class="pre">/etc/hpx.ini</span></code>. This lookup is done on non-Windows systems
only.</li>
<li>Load a file named <code class="docutils literal notranslate"><span class="pre">.hpx.ini</span></code> in the home directory of the current user,
e.g. the directory referenced by the environment variable <code class="docutils literal notranslate"><span class="pre">HOME</span></code>.</li>
<li>Load a file named <code class="docutils literal notranslate"><span class="pre">.hpx.ini</span></code> in the directory referenced by the environment
variable <code class="docutils literal notranslate"><span class="pre">PWD</span></code>.</li>
<li>Load the file specified on the command line using the option
<a class="reference internal" href="#cmdoption-hpx-config"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:config</span></code></a>.</li>
<li>Load all properties specified on the command line using the option
<a class="reference internal" href="#cmdoption-hpx-ini"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:ini</span></code></a>. The properties will be added to the database in the
same sequence as they are specified on the command line. The format for those
options is for instance <a class="reference internal" href="#cmdoption-hpx-ini"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:ini</span></code></a><code class="docutils literal notranslate"><span class="pre">=hpx.default_stack_size=0x4000</span></code>. In
addition to the explicit command line options, this will set the following
properties as implied from other settings:<ul>
<li><code class="docutils literal notranslate"><span class="pre">hpx.parcel.address</span></code> and <code class="docutils literal notranslate"><span class="pre">hpx.parcel.port</span></code> as set by
<a class="reference internal" href="#cmdoption-hpx-hpx"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:hpx</span></code></a></li>
<li><code class="docutils literal notranslate"><span class="pre">hpx.agas.address</span></code>, <code class="docutils literal notranslate"><span class="pre">hpx.agas.port</span></code> and <code class="docutils literal notranslate"><span class="pre">hpx.agas.service_mode</span></code> as
set by <a class="reference internal" href="#cmdoption-hpx-agas"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:agas</span></code></a></li>
<li><code class="docutils literal notranslate"><span class="pre">hpx.program_name</span></code> and <code class="docutils literal notranslate"><span class="pre">hpx.cmd_line</span></code> will be derived from the actual
command line</li>
<li><dl class="first docutils">
<dt><code class="docutils literal notranslate"><span class="pre">hpx.os_threads</span></code> and <code class="docutils literal notranslate"><span class="pre">hpx.localities</span></code> as set by</dt>
<dd><a class="reference internal" href="#cmdoption-hpx-threads"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:threads</span></code></a> and <a class="reference internal" href="#cmdoption-hpx-localities"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:localities</span></code></a></dd>
</dl>
</li>
<li><code class="docutils literal notranslate"><span class="pre">hpx.runtime_mode</span></code> will be derived from any explicit
<a class="reference internal" href="#cmdoption-hpx-console"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:console</span></code></a>, <a class="reference internal" href="#cmdoption-hpx-worker"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:worker</span></code></a>, or <a class="reference internal" href="#cmdoption-hpx-connect"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:connect</span></code></a>,
or it will be derived from other settings, such as <a class="reference internal" href="#cmdoption-hpx-node"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:node</span></code></a>
<code class="docutils literal notranslate"><span class="pre">=0</span></code> which implies <a class="reference internal" href="#cmdoption-hpx-console"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:console</span></code></a></li>
</ul>
</li>
<li>Load files based on the pattern <code class="docutils literal notranslate"><span class="pre">*.ini</span></code> in all directories listed by the
property <code class="docutils literal notranslate"><span class="pre">hpx.ini_path</span></code>. All files found during this search will be merged.
The property <code class="docutils literal notranslate"><span class="pre">hpx.ini_path</span></code> can hold a list of directories separated by
<code class="docutils literal notranslate"><span class="pre">':'</span></code> (on Linux or Mac) or <code class="docutils literal notranslate"><span class="pre">';'</span></code> (on Windows).</li>
<li>Load the file specified on the command line using the option
<a class="reference internal" href="#cmdoption-hpx-app-config"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:app-config</span></code></a>. Note that this file will be merged as the content
for a top level section <code class="docutils literal notranslate"><span class="pre">[application]</span></code>.</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Any changes made to the configuration database caused by one of the steps
will influence the loading process for all subsequent steps. For instance, if
one of the ini files loaded changes the property``hpx.ini_path`` this will
influence the directories searched in step 9 as described above.]</p>
</div>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">The <em>HPX</em> core library will verify that all configuration settings specified
on the command line (using the <a class="reference internal" href="#cmdoption-hpx-ini"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:ini</span></code></a> option) will be checked
for validity. That means that the library will accept only <em>known</em>
configuration settings. This is to protect the user from unintentional typos
while specifying those settings. This behavior can be overwritten by
appending a <code class="docutils literal notranslate"><span class="pre">'!'</span></code> to the configuration key, thus forcing the setting to be
entered into the configuration database, for instance: <a class="reference internal" href="#cmdoption-hpx-ini"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:ini</span></code></a><code class="docutils literal notranslate"><span class="pre">=hpx.foo!</span> <span class="pre">=</span> <span class="pre">1</span></code></p>
</div>
<p>If any of the environment variables or files listed above is not found the
corresponding loading step will be silently skipped.</p>
</div>
</div>
<div class="section" id="loading-components">
<span id="id3"></span><h2>Loading components<a class="headerlink" href="#loading-components" title="Permalink to this headline">¶</a></h2>
<p><em>HPX</em> relies on loading application specific components during the runtime of an
application. Moreover, <em>HPX</em> comes with a set of preinstalled components
supporting basic functionalities useful for almost every application. Any
component in <em>HPX</em> is loaded from a shared library, where any of the shared
libraries can contain more than one component type. During startup, <em>HPX</em> tries
to locate all available components (e.g. their corresponding shared libraries)
and creates an internal component registry for later use. This section describes
the algorithm used by <em>HPX</em> to locate all relevant shared libraries on a system.
As described, this algorithm is customizable by the configuration properties
loaded from the ini files (see section <a class="reference internal" href="#loading-ini-files"><span class="std std-ref">Loading INI files</span></a>).</p>
<p>Loading components is a two stage process. First <em>HPX</em> tries to locate all
component shared libraries, loads those, and generates default configuration
section in the internal configuration database for each component found. For
each found component the following information is generated:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[hpx.components.&lt;component_instance_name&gt;]</span>
<span class="na">name</span> <span class="o">=</span> <span class="s">&lt;name_of_shared_library&gt;</span>
<span class="na">path</span> <span class="o">=</span> <span class="s">$[component_path]</span>
<span class="na">enabled</span> <span class="o">=</span> <span class="s">$[hpx.components.load_external]</span>
<span class="na">default</span> <span class="o">=</span> <span class="s">1</span>
</pre></div>
</div>
<p>The values in this section correspond to the expected configuration information
for a component as described in the section <a class="reference internal" href="#config-defaults"><span class="std std-ref">Built-in Default Configuration Settings</span></a>.</p>
<p>In order to locate component shared libraries, <em>HPX</em> will try loading all
shared libraries (files with the platform specific extension of a shared
library, Linux: <code class="docutils literal notranslate"><span class="pre">*.so</span></code>, Windows: <code class="docutils literal notranslate"><span class="pre">*.dll</span></code>, MacOS: <code class="docutils literal notranslate"><span class="pre">*.dylib</span></code> found in the
directory referenced by the ini property <code class="docutils literal notranslate"><span class="pre">hpx.component_path</span></code>).</p>
<p>This first step corresponds to step 1) during the process of filling the
internal configuration database with default information as described in section
<a class="reference internal" href="#loading-ini-files"><span class="std std-ref">Loading INI files</span></a>.</p>
<p>After all of the configuration information has been loaded, <em>HPX</em> performs the
second step in terms of loading components. During this step, <em>HPX</em> scans all
existing configuration sections
<code class="docutils literal notranslate"><span class="pre">[hpx.component.&lt;some_component_instance_name&gt;]</span></code> and instantiates a special
factory object for each of the successfully located and loaded components.
During the application’s life time, these factory objects will be responsible to
create new and discard old instances of the component they are associated with.
This step is performed after step 11) of the process of filling the internal
configuration database with default information as described in section
<a class="reference internal" href="#loading-ini-files"><span class="std std-ref">Loading INI files</span></a>.</p>
<div class="section" id="application-specific-component-example">
<span id="component-example"></span><h3>Application specific component example<a class="headerlink" href="#application-specific-component-example" title="Permalink to this headline">¶</a></h3>
<p>In this section we assume to have a simple application component which exposes
one member function as a component action. The header file <code class="docutils literal notranslate"><span class="pre">app_server.hpp</span></code>
declares the C++ type to be exposed as a component. This type has a member
function <code class="docutils literal notranslate"><span class="pre">print_greeting()</span></code> which is exposed as an action
<code class="docutils literal notranslate"><span class="pre">print_greeting_action</span></code>. We assume the source files for this example are
located in a directory referenced by <code class="docutils literal notranslate"><span class="pre">$APP_ROOT</span></code>:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// file: $APP_ROOT/app_server.hpp</span>
<span class="cp">#include</span> <span class="cpf">&lt;hpx/hpx.hpp&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;hpx/include/iostreams.hpp&gt;</span><span class="cp"></span>

<span class="k">namespace</span> <span class="n">app</span>
<span class="p">{</span>
    <span class="c1">// Define a simple component exposing one action &#39;print_greeting&#39;</span>
    <span class="k">class</span> <span class="nc">HPX_COMPONENT_EXPORT</span> <span class="nl">server</span>
      <span class="p">:</span> <span class="k">public</span> <span class="n">hpx</span><span class="o">::</span><span class="n">components</span><span class="o">::</span><span class="n">component_base</span><span class="o">&lt;</span><span class="n">server</span><span class="o">&gt;</span>
    <span class="p">{</span>
        <span class="kt">void</span> <span class="n">print_greeting</span> <span class="p">()</span>
        <span class="p">{</span>
            <span class="n">hpx</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Hey, how are you?</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">hpx</span><span class="o">::</span><span class="n">flush</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">// Component actions need to be declared, this also defines the</span>
        <span class="c1">// type &#39;print_greeting_action&#39; representing the action.</span>
        <span class="n">HPX_DEFINE_COMPONENT_ACTION</span><span class="p">(</span><span class="n">server</span><span class="p">,</span> <span class="n">print_greeting</span><span class="p">,</span> <span class="n">print_greeting_action</span><span class="p">);</span>
    <span class="p">};</span>
<span class="p">}</span>

<span class="c1">// Declare boilerplate code required for each of the component actions.</span>
<span class="n">HPX_REGISTER_ACTION_DECLARATION</span><span class="p">(</span><span class="n">app</span><span class="o">::</span><span class="n">server</span><span class="o">::</span><span class="n">print_greeting_action</span><span class="p">);</span>
</pre></div>
</div>
<p>The corresponding source file contains mainly macro invocations which define
boilerplate code needed for <em>HPX</em> to function properly:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// file: $APP_ROOT/app_server.cpp</span>
<span class="cp">#include</span> <span class="cpf">&quot;app_server.hpp&quot;</span><span class="cp"></span>

<span class="c1">// Define boilerplate required once per component module.</span>
<span class="n">HPX_REGISTER_COMPONENT_MODULE</span><span class="p">();</span>

<span class="c1">// Define factory object associated with our component of type &#39;app::server&#39;.</span>
<span class="n">HPX_REGISTER_COMPONENT</span><span class="p">(</span><span class="n">app</span><span class="o">::</span><span class="n">server</span><span class="p">,</span> <span class="n">app_server</span><span class="p">);</span>

<span class="c1">// Define boilerplate code required for each of the component actions. Use the</span>
<span class="c1">// same argument as used for HPX_REGISTER_ACTION_DECLARATION above.</span>
<span class="n">HPX_REGISTER_ACTION</span><span class="p">(</span><span class="n">app</span><span class="o">::</span><span class="n">server</span><span class="o">::</span><span class="n">print_greeting_action</span><span class="p">);</span>
</pre></div>
</div>
<p>The following gives an example of how the component can be used. We create one
instance of the <code class="docutils literal notranslate"><span class="pre">app::server</span></code> component on the current <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> and
invoke the exposed action <code class="docutils literal notranslate"><span class="pre">print_greeting_action</span></code> using the global id of the
newly created instance. Note, that no special code is required to delete the
component instance after it is not needed anymore. It will be deleted
automatically when its last reference goes out of scope, here at the closing
brace of the block surrounding the code:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// file: $APP_ROOT/use_app_server_example.cpp</span>
<span class="cp">#include</span> <span class="cpf">&lt;hpx/hpx_init.hpp&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;app_server.hpp&quot;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">hpx_main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="p">{</span>
        <span class="c1">// Create an instance of the app_server component on the current locality.</span>
        <span class="n">hpx</span><span class="o">::</span><span class="nl">naming</span><span class="p">:</span><span class="n">id_type</span> <span class="n">app_server_instance</span> <span class="o">=</span>
            <span class="n">hpx</span><span class="o">::</span><span class="n">create_component</span><span class="o">&lt;</span><span class="n">app</span><span class="o">::</span><span class="n">server</span><span class="o">&gt;</span><span class="p">(</span><span class="n">hpx</span><span class="o">::</span><span class="n">find_here</span><span class="p">());</span>

        <span class="c1">// Create an instance of the action &#39;print_greeting_action&#39;.</span>
        <span class="n">app</span><span class="o">::</span><span class="n">server</span><span class="o">::</span><span class="n">print_greeting_action</span> <span class="n">print_greeting</span><span class="p">;</span>

        <span class="c1">// Invoke the action &#39;print_greeting&#39; on the newly created component.</span>
        <span class="n">print_greeting</span><span class="p">(</span><span class="n">app_server_instance</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">hpx</span><span class="o">::</span><span class="n">finalize</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">hpx</span><span class="o">::</span><span class="n">init</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In order to make sure that the application will be able to use the component
<code class="docutils literal notranslate"><span class="pre">app::server</span></code>, special configuration information must be passed to <em>HPX</em>. The
simples way to allow <em>HPX</em> to ‘find’ the component is to provide special ini
configuration files, which add the necessary information to the internal
configuration database. The component should have a special ini file containing
the information specific to the component <code class="docutils literal notranslate"><span class="pre">app_server</span></code>.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1"># file: $APP_ROOT/app_server.ini</span>
<span class="k">[hpx.components.app_server]</span>
<span class="na">name</span> <span class="o">=</span> <span class="s">app_server</span>
<span class="na">path</span> <span class="o">=</span> <span class="s">$APP_LOCATION/</span>
</pre></div>
</div>
<p>Here <code class="docutils literal notranslate"><span class="pre">$APP_LOCATION</span></code> is the directory where the (binary) component shared
library is located. <em>HPX</em> will attempt to load the shared library from there.
The section name <code class="docutils literal notranslate"><span class="pre">hpx.components.app_server</span></code> reflects the instance name of the
component (<code class="docutils literal notranslate"><span class="pre">app_server</span></code> is an arbitrary, but unique name). The property value
for <code class="docutils literal notranslate"><span class="pre">hpx.components.app_server.name</span></code> should be the same as used for the second
argument to the macro <a class="reference internal" href="../api.html#c.HPX_REGISTER_COMPONENT" title="HPX_REGISTER_COMPONENT"><code class="xref c c-macro docutils literal notranslate"><span class="pre">HPX_REGISTER_COMPONENT</span></code></a> above.</p>
<p>Additionally a file <code class="docutils literal notranslate"><span class="pre">.hpx.ini</span></code> which could be located in the current working
directory (see step 3 as described in the section <a class="reference internal" href="#loading-ini-files"><span class="std std-ref">Loading INI files</span></a>) can
be used to add to the ini search path for components:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1"># file: $PWD/.hpx.ini</span>
<span class="k">[hpx]</span>
<span class="na">ini_path</span> <span class="o">=</span> <span class="s">$[hpx.ini_path]:$APP_ROOT/</span>
</pre></div>
</div>
<p>This assumes that the above ini file specific to the component is located in
the directory <code class="docutils literal notranslate"><span class="pre">$APP_ROOT</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is possible to reference the defined property from inside its value. <em>HPX</em>
will gracefully use the previous value of <code class="docutils literal notranslate"><span class="pre">hpx.ini_path</span></code> for the reference
on the right hand side and assign the overall (now expanded) value to the
property.</p>
</div>
</div>
</div>
<div class="section" id="logging">
<span id="id4"></span><h2>Logging<a class="headerlink" href="#logging" title="Permalink to this headline">¶</a></h2>
<p><em>HPX</em> uses a sophisticated logging framework allowing to follow in detail
what operations have been performed inside the <em>HPX</em> library in what sequence.
This information proves to be very useful for diagnosing problems or just for
improving the understanding what is happening in <em>HPX</em> as a consequence of
invoking <em>HPX</em> API functionality.</p>
<div class="section" id="default-logging">
<h3>Default logging<a class="headerlink" href="#default-logging" title="Permalink to this headline">¶</a></h3>
<p>Enabling default logging is a simple process. The detailed description in the
remainder of this section explains different ways to customize the defaults.
Default logging can be enabled by using one of the following:</p>
<ul class="simple">
<li>a command line switch <a class="reference internal" href="#cmdoption-hpx-debug-hpx-log"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:debug-hpx-log</span></code></a>, which will enable
logging to the console terminal</li>
<li>the command line switch <a class="reference internal" href="#cmdoption-hpx-debug-hpx-log"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:debug-hpx-log</span></code></a><code class="docutils literal notranslate"><span class="pre">=&lt;filename&gt;</span></code>, which
enables logging to a given file <code class="docutils literal notranslate"><span class="pre">&lt;filename&gt;</span></code>, or</li>
<li>setting an environment variable <code class="docutils literal notranslate"><span class="pre">HPX_LOGLEVEL=&lt;loglevel&gt;</span></code> while running the
<em>HPX</em> application. In this case <code class="docutils literal notranslate"><span class="pre">&lt;loglevel&gt;</span></code> should be a number between (or
equal to) <code class="docutils literal notranslate"><span class="pre">1</span></code> and <code class="docutils literal notranslate"><span class="pre">5</span></code> where <code class="docutils literal notranslate"><span class="pre">1</span></code> means minimal logging and <code class="docutils literal notranslate"><span class="pre">5</span></code> causes
to log all available messages. When setting the environment variable the logs
will be written to a file named <code class="docutils literal notranslate"><span class="pre">hpx.&lt;PID&gt;.lo</span></code> in the current working
directory, where <code class="docutils literal notranslate"><span class="pre">&lt;PID&gt;</span></code> is the process id of the console instance of the
application.</li>
</ul>
</div>
<div class="section" id="customizing-logging">
<h3>Customizing logging<a class="headerlink" href="#customizing-logging" title="Permalink to this headline">¶</a></h3>
<p>Generally, logging can be customized either using environment variable settings
or using by an ini configuration file. Logging is generated in several
categories, each of which can be customized independently. All customizable
configuration parameters have reasonable defaults, allowing to use logging
without any additional configuration effort. The following table lists the
available categories.</p>
<table border="1" class="docutils" id="id9">
<caption><span class="caption-number">Table 18 </span><span class="caption-text">Logging categories</span><a class="headerlink" href="#id9" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Category</td>
<td>Category shortcut</td>
<td>Information to be generated</td>
<td>Environment variable</td>
</tr>
<tr class="row-even"><td>General</td>
<td>None</td>
<td>Logging information generated by different subsystems of <em>HPX</em>, such as
thread-manager, parcel layer, LCOs, etc.</td>
<td><code class="docutils literal notranslate"><span class="pre">HPX_LOGLEVEL</span></code></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a></td>
<td><code class="docutils literal notranslate"><span class="pre">AGAS</span></code></td>
<td>Logging output generated by the <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a> subsystem</td>
<td><code class="docutils literal notranslate"><span class="pre">HPX_AGAS_LOGLEVEL</span></code></td>
</tr>
<tr class="row-even"><td>Application</td>
<td><code class="docutils literal notranslate"><span class="pre">APP</span></code></td>
<td>Logging generated by applications.</td>
<td><code class="docutils literal notranslate"><span class="pre">HPX_APP_LOGLEVEL</span></code></td>
</tr>
</tbody>
</table>
<p>By default, all logging output is redirected to the console instance of an
application, where it is collected and written to a file, one file for each
logging category.</p>
<p>Each logging category can be customized at two levels, the parameters for each
are stored in the ini configuration sections <code class="docutils literal notranslate"><span class="pre">hpx.logging.CATEGORY</span></code> and
<code class="docutils literal notranslate"><span class="pre">hpx.logging.console.CATEGORY</span></code> (where <code class="docutils literal notranslate"><span class="pre">CATEGORY</span></code> is the category shortcut as
listed in the table above). The former influences logging at the source
<a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> and the latter modifies the logging behaviour for each of the
categories at the console instance of an application.</p>
</div>
<div class="section" id="levels">
<h3>Levels<a class="headerlink" href="#levels" title="Permalink to this headline">¶</a></h3>
<p>All <em>HPX</em> logging output have seven different logging levels. These levels can
be set explicitly or through environmental variables in the main <em>HPX</em> ini file
as shown below. The logging levels and their associated integral values are
shown in the table below, ordered from most verbose to least verbose. By
default, all <em>HPX</em> logs are set to 0, e.g. all logging output is disabled by
default.</p>
<table border="1" class="docutils" id="id10">
<caption><span class="caption-number">Table 19 </span><span class="caption-text">Logging levels</span><a class="headerlink" href="#id10" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="48%" />
<col width="52%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Logging level</th>
<th class="head">Integral value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">&lt;debug&gt;</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">5</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">&lt;info&gt;</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">4</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">&lt;warning&gt;</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">3</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">&lt;error&gt;</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">2</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">&lt;fatal&gt;</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
</tr>
<tr class="row-odd"><td>No logging</td>
<td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
</tr>
</tbody>
</table>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">The easiest way to enable logging output is to set the environment variable
corresponding to the logging category to an integral value as described in
the table above. For instance, setting <code class="docutils literal notranslate"><span class="pre">HPX_LOGLEVEL=5</span></code> will enable full
logging output for the general category. Please note that the syntax and
means of setting environment variables varies between operating systems.</p>
</div>
</div>
<div class="section" id="id5">
<h3>Configuration<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p>Logs will be saved to destinations as configured by the user. By default,
logging output is saved on the console instance of an application to
<code class="docutils literal notranslate"><span class="pre">hpx.&lt;CATEGORY&gt;.&lt;PID&gt;.lo</span></code> (where <code class="docutils literal notranslate"><span class="pre">CATEGORY</span></code> and <code class="docutils literal notranslate"><span class="pre">PID&gt;</span></code> are placeholders
for the category shortcut and the OS process id). The output for the general
logging category is saved to <code class="docutils literal notranslate"><span class="pre">hpx.&lt;PID&gt;.log</span></code>. The default settings for the
general logging category are shown here (the syntax is described in the section
<a class="reference internal" href="#ini-format"><span class="std std-ref">The HPX INI File Format</span></a>):</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[hpx.logging]</span>
<span class="na">level</span> <span class="o">=</span> <span class="s">${HPX_LOGLEVEL:0}</span>
<span class="na">destination</span> <span class="o">=</span> <span class="s">${HPX_LOGDESTINATION:console}</span>
<span class="na">format</span> <span class="o">=</span> <span class="s">${HPX_LOGFORMAT:(T%locality%/%hpxthread%.%hpxphase%/%hpxcomponent%) P%parentloc%/%hpxparent%.%hpxparentphase% %time%($hh:$mm.$ss.$mili) [%idx%]|\\n}</span>
</pre></div>
</div>
<p>The logging level is taken from the environment variable``HPX_LOGLEVEL``and
defaults to zero, e.g. no logging. The default logging destination is read from
the environment variable``HPX_LOGDESTINATION`` On any of the localities it
defaults to``console``which redirects all generated logging output to the
console instance of an application. The following table lists the possible
destinations for any logging output. It is possible to specify more than one
destination separated by whitespace.</p>
<table border="1" class="docutils" id="id11">
<caption><span class="caption-number">Table 20 </span><span class="caption-text">Logging destinations</span><a class="headerlink" href="#id11" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Logging destination</td>
<td>Description</td>
</tr>
<tr class="row-even"><td>file(<code class="docutils literal notranslate"><span class="pre">&lt;filename&gt;</span></code>)</td>
<td>Direct all output to a file with the given &lt;filename&gt;.</td>
</tr>
<tr class="row-odd"><td>cout</td>
<td>Direct all output to the local standard output of the application
instance on this <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</td>
</tr>
<tr class="row-even"><td>cerr</td>
<td>Direct all output to the local standard error output of the application
instance on this <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</td>
</tr>
<tr class="row-odd"><td>console</td>
<td>Direct all output to the console instance of the application. The console
instance has its logging destinations configured separately.</td>
</tr>
<tr class="row-even"><td>android_log</td>
<td>Direct all output to the (Android) system log (available on Android
systems only).</td>
</tr>
</tbody>
</table>
<p>The logging format is read from the environment variable <code class="docutils literal notranslate"><span class="pre">HPX_LOGFORMAT</span></code> and
it defaults to a complex format description. This format consists of several
placeholder fields (for instance <code class="docutils literal notranslate"><span class="pre">%locality%</span></code> which will be replaced by
concrete values when the logging output is generated. All other information is
transferred verbatim to the output. The table below describes the available
field placeholders. The separator character <code class="docutils literal notranslate"><span class="pre">|</span></code> separates the logging message
prefix formatted as shown and the actual log message which will replace the
separator.</p>
<table border="1" class="docutils" id="id12">
<caption><span class="caption-number">Table 21 </span><span class="caption-text">Available field placeholders</span><a class="headerlink" href="#id12" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Name</td>
<td>Description</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a></td>
<td>The id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> on which the logging message was
generated.</td>
</tr>
<tr class="row-odd"><td>hpxthread</td>
<td>The id of the <em>HPX</em>-thread generating this logging output.</td>
</tr>
<tr class="row-even"><td>hpxphase</td>
<td>The phase <a class="footnote-reference" href="#id8" id="id6">[1]</a> of the <em>HPX</em>-thread generating this logging output.</td>
</tr>
<tr class="row-odd"><td>hpxcomponent</td>
<td>The local virtual address of the component which the current <em>HPX</em>-thread
is accessing.</td>
</tr>
<tr class="row-even"><td>parentloc</td>
<td>The id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> where the <em>HPX</em> thread was running which
initiated the current <em>HPX</em>-thread. The current <em>HPX</em>-thread is
generating this logging output.</td>
</tr>
<tr class="row-odd"><td>hpxparent</td>
<td>The id of the <em>HPX</em>-thread which initiated the current <em>HPX</em>-thread. The
current <em>HPX</em>-thread is generating this logging output.</td>
</tr>
<tr class="row-even"><td>hpxparentphase</td>
<td>The phase of the <em>HPX</em>-thread when it initiated the current <em>HPX</em>-thread.
The current <em>HPX</em>-thread is generating this logging output.</td>
</tr>
<tr class="row-odd"><td>time</td>
<td>The time stamp for this logging outputline as generated by the source
<a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</td>
</tr>
<tr class="row-even"><td>idx</td>
<td>The sequence number of the logging output line as generated on the source
<a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</td>
</tr>
<tr class="row-odd"><td>osthread</td>
<td>The sequence number of the OS-thread which executes the current
<em>HPX</em>-thread.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Not all of the field placeholder may be expanded for all generated logging
output. If no value is available for a particular field it is replaced with a
sequence of <code class="docutils literal notranslate"><span class="pre">'-'</span></code> characters.]</p>
</div>
<p>Here is an example line from a logging output generated by one of the <em>HPX</em>
examples (please note that this is generated on a single line, without line
break):</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>(T00000000/0000000002d46f90.01/00000000009ebc10) P--------/0000000002d46f80.02 17:49.37.320 [000000000000004d]
    &lt;info&gt;  [RT] successfully created component {0000000100ff0001, 0000000000030002} of type: component_barrier[7(3)]
</pre></div>
</div>
<p>The default settings for the general logging category on the console is shown
here:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[hpx.logging.console]</span>
<span class="na">level</span> <span class="o">=</span> <span class="s">${HPX_LOGLEVEL:$[hpx.logging.level]}</span>
<span class="na">destination</span> <span class="o">=</span> <span class="s">${HPX_CONSOLE_LOGDESTINATION:file(hpx.$[system.pid].log)}</span>
<span class="na">format</span> <span class="o">=</span> <span class="s">${HPX_CONSOLE_LOGFORMAT:|}</span>
</pre></div>
</div>
<p>These settings define how the logging is customized once the logging output is
received by the console instance of an application. The logging level is read
from the environment variable <code class="docutils literal notranslate"><span class="pre">HPX_LOGLEVEL</span></code> (as set for the console instance
of the application). The level defaults to the same values as the corresponding
settings in the general logging configuration shown before. The destination on
the console instance is set to be a file which name is generated based from its
OS process id. Setting the environment variable <code class="docutils literal notranslate"><span class="pre">HPX_CONSOLE_LOGDESTINATION</span></code>
allows customization of the naming scheme for the output file. The logging
format is set to leave the original logging output unchanged, as received from
one of the localities the application runs on.</p>
</div>
</div>
<div class="section" id="hpx-command-line-options">
<span id="commandline"></span><h2><em>HPX</em> Command Line Options<a class="headerlink" href="#hpx-command-line-options" title="Permalink to this headline">¶</a></h2>
<p>The predefined command line options for any application using
<a class="reference internal" href="../api.html#_CPPv3N3hpx4initERN4util15function_nonserIFiRN5boost15program_options13variables_mapEEEERN5boost15program_options19options_descriptionEiPPcRNSt6vectorINSt6stringEEE21startup_function_type22shutdown_function_typeN3hpx12runtime_modeE" title="hpx::init"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">hpx::init</span></code></a> are described in the following subsections.</p>
<div class="section" id="hpx-options-allowed-on-command-line-only">
<h3><em>HPX</em> options (allowed on command line only)<a class="headerlink" href="#hpx-options-allowed-on-command-line-only" title="Permalink to this headline">¶</a></h3>
<dl class="option">
<dt id="cmdoption-hpx-help">
<code class="descname">--hpx:help</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-hpx-help" title="Permalink to this definition">¶</a></dt>
<dd><p>print out program usage (default: this message), possible values: <code class="docutils literal notranslate"><span class="pre">full</span></code>
(additionally prints options from components)</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-version">
<code class="descname">--hpx:version</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-hpx-version" title="Permalink to this definition">¶</a></dt>
<dd><p>print out <em>HPX</em> version and copyright information</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-info">
<code class="descname">--hpx:info</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-hpx-info" title="Permalink to this definition">¶</a></dt>
<dd><p>print out <em>HPX</em> configuration information</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-options-file">
<code class="descname">--hpx:options-file</code><code class="descclassname"> arg</code><a class="headerlink" href="#cmdoption-hpx-options-file" title="Permalink to this definition">¶</a></dt>
<dd><p>specify a file containing command line options (alternatively: &#64;filepath)</p>
</dd></dl>

</div>
<div class="section" id="hpx-options-additionally-allowed-in-an-options-file">
<h3><em>HPX</em> options (additionally allowed in an options file)<a class="headerlink" href="#hpx-options-additionally-allowed-in-an-options-file" title="Permalink to this headline">¶</a></h3>
<dl class="option">
<dt id="cmdoption-hpx-worker">
<code class="descname">--hpx:worker</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-hpx-worker" title="Permalink to this definition">¶</a></dt>
<dd><p>run this instance in worker mode</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-console">
<code class="descname">--hpx:console</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-hpx-console" title="Permalink to this definition">¶</a></dt>
<dd><p>run this instance in console mode</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-connect">
<code class="descname">--hpx:connect</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-hpx-connect" title="Permalink to this definition">¶</a></dt>
<dd><p>run this instance in worker mode, but connecting late</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-run-agas-server">
<code class="descname">--hpx:run-agas-server</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-hpx-run-agas-server" title="Permalink to this definition">¶</a></dt>
<dd><p>run <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a> server as part of this runtime instance</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-run-hpx-main">
<code class="descname">--hpx:run-hpx-main</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-hpx-run-hpx-main" title="Permalink to this definition">¶</a></dt>
<dd><p>run the hpx_main function, regardless of <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> mode</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-hpx">
<code class="descname">--hpx:hpx</code><code class="descclassname"> arg</code><a class="headerlink" href="#cmdoption-hpx-hpx" title="Permalink to this definition">¶</a></dt>
<dd><p>the IP address the <em>HPX</em> parcelport is listening on, expected format:
<code class="docutils literal notranslate"><span class="pre">address:port</span></code> (default: <code class="docutils literal notranslate"><span class="pre">127.0.0.1:7910</span></code>)</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-agas">
<code class="descname">--hpx:agas</code><code class="descclassname"> arg</code><a class="headerlink" href="#cmdoption-hpx-agas" title="Permalink to this definition">¶</a></dt>
<dd><p>the IP address the <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a> root server is running on, expected format:
<code class="docutils literal notranslate"><span class="pre">address:port</span></code> (default: <code class="docutils literal notranslate"><span class="pre">127.0.0.1:7910</span></code>)</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-run-agas-server-only">
<code class="descname">--hpx:run-agas-server-only</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-hpx-run-agas-server-only" title="Permalink to this definition">¶</a></dt>
<dd><p>run only the <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a> server</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-nodefile">
<code class="descname">--hpx:nodefile</code><code class="descclassname"> arg</code><a class="headerlink" href="#cmdoption-hpx-nodefile" title="Permalink to this definition">¶</a></dt>
<dd><p>the file name of a node file to use (list of nodes, one node name per line
and core)</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-nodes">
<code class="descname">--hpx:nodes</code><code class="descclassname"> arg</code><a class="headerlink" href="#cmdoption-hpx-nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>the (space separated) list of the nodes to use (usually this is extracted
from a node file)</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-endnodes">
<code class="descname">--hpx:endnodes</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-hpx-endnodes" title="Permalink to this definition">¶</a></dt>
<dd><p>this can be used to end the list of nodes specified using the option
<a class="reference internal" href="#cmdoption-hpx-nodes"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:nodes</span></code></a></p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-ifsuffix">
<code class="descname">--hpx:ifsuffix</code><code class="descclassname"> arg</code><a class="headerlink" href="#cmdoption-hpx-ifsuffix" title="Permalink to this definition">¶</a></dt>
<dd><p>suffix to append to host names in order to resolve them to the proper network
interconnect</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-ifprefix">
<code class="descname">--hpx:ifprefix</code><code class="descclassname"> arg</code><a class="headerlink" href="#cmdoption-hpx-ifprefix" title="Permalink to this definition">¶</a></dt>
<dd><p>prefix to prepend to host names in order to resolve them to the proper
network interconnect</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-iftransform">
<code class="descname">--hpx:iftransform</code><code class="descclassname"> arg</code><a class="headerlink" href="#cmdoption-hpx-iftransform" title="Permalink to this definition">¶</a></dt>
<dd><p>sed-style search and replace (<code class="docutils literal notranslate"><span class="pre">s/search/replace/</span></code>) used to transform host
names to the proper network interconnect</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-localities">
<code class="descname">--hpx:localities</code><code class="descclassname"> arg</code><a class="headerlink" href="#cmdoption-hpx-localities" title="Permalink to this definition">¶</a></dt>
<dd><p>the number of localities to wait for at application startup (default: <code class="docutils literal notranslate"><span class="pre">1</span></code>)</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-node">
<code class="descname">--hpx:node</code><code class="descclassname"> arg</code><a class="headerlink" href="#cmdoption-hpx-node" title="Permalink to this definition">¶</a></dt>
<dd><p>number of the node this <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> is run on (must be unique)</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-ignore-batch-env">
<code class="descname">--hpx:ignore-batch-env</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-hpx-ignore-batch-env" title="Permalink to this definition">¶</a></dt>
<dd><p>ignore batch environment variables</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-expect-connecting-localities">
<code class="descname">--hpx:expect-connecting-localities</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-hpx-expect-connecting-localities" title="Permalink to this definition">¶</a></dt>
<dd><p>this <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> expects other localities to dynamically connect (this
is implied if the number of initial localities is larger than 1)</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-pu-offset">
<code class="descname">--hpx:pu-offset</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-hpx-pu-offset" title="Permalink to this definition">¶</a></dt>
<dd><p>the first processing unit this instance of <em>HPX</em> should be run on (default:
<code class="docutils literal notranslate"><span class="pre">0</span></code>)</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-pu-step">
<code class="descname">--hpx:pu-step</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-hpx-pu-step" title="Permalink to this definition">¶</a></dt>
<dd><p>the step between used processing unit numbers for this instance of <em>HPX</em>
(default: <code class="docutils literal notranslate"><span class="pre">1</span></code>)</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-threads">
<code class="descname">--hpx:threads</code><code class="descclassname"> arg</code><a class="headerlink" href="#cmdoption-hpx-threads" title="Permalink to this definition">¶</a></dt>
<dd><p>the number of operating system threads to spawn for this <em>HPX</em>
<a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>. Possible values are: numeric values <code class="docutils literal notranslate"><span class="pre">1</span></code>, <code class="docutils literal notranslate"><span class="pre">2</span></code>, <code class="docutils literal notranslate"><span class="pre">3</span></code> and
so on, <code class="docutils literal notranslate"><span class="pre">all</span></code> (which spawns one thread per processing unit, includes
hyperthreads), or <code class="docutils literal notranslate"><span class="pre">cores</span></code> (which spawns one thread per core) (default:
<code class="docutils literal notranslate"><span class="pre">cores</span></code>).</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-cores">
<code class="descname">--hpx:cores</code><code class="descclassname"> arg</code><a class="headerlink" href="#cmdoption-hpx-cores" title="Permalink to this definition">¶</a></dt>
<dd><p>the number of cores to utilize for this <em>HPX</em> <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> (default:
<code class="docutils literal notranslate"><span class="pre">all</span></code>, i.e. the number of cores is based on the number of threads
<a class="reference internal" href="#cmdoption-hpx-threads"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:threads</span></code></a> assuming <a class="reference internal" href="#cmdoption-hpx-bind"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:bind</span></code></a><code class="docutils literal notranslate"><span class="pre">=compact</span></code></p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-affinity">
<code class="descname">--hpx:affinity</code><code class="descclassname"> arg</code><a class="headerlink" href="#cmdoption-hpx-affinity" title="Permalink to this definition">¶</a></dt>
<dd><p>the affinity domain the OS threads will be confined to, possible values:
<code class="docutils literal notranslate"><span class="pre">pu</span></code>, <code class="docutils literal notranslate"><span class="pre">core</span></code>, <code class="docutils literal notranslate"><span class="pre">numa</span></code>, <code class="docutils literal notranslate"><span class="pre">machine</span></code> (default: <code class="docutils literal notranslate"><span class="pre">pu</span></code>)</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-bind">
<code class="descname">--hpx:bind</code><code class="descclassname"> arg</code><a class="headerlink" href="#cmdoption-hpx-bind" title="Permalink to this definition">¶</a></dt>
<dd><p>the detailed affinity description for the OS threads, see <a class="reference internal" href="#details"><span class="std std-ref">More details about HPX command line options</span></a> for
a detailed description of possible values. Do not use with
<a class="reference internal" href="#cmdoption-hpx-pu-step"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:pu-step</span></code></a>, <a class="reference internal" href="#cmdoption-hpx-pu-offset"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:pu-offset</span></code></a> or
<a class="reference internal" href="#cmdoption-hpx-affinity"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:affinity</span></code></a> options. Implies <a class="reference internal" href="#cmdoption-hpx-numa-sensitive"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:numa-sensitive</span></code></a>
(<a class="reference internal" href="#cmdoption-hpx-bind"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:bind</span></code></a><code class="docutils literal notranslate"><span class="pre">=none</span></code>) disables defining thread affinities).</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-print-bind">
<code class="descname">--hpx:print-bind</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-hpx-print-bind" title="Permalink to this definition">¶</a></dt>
<dd><p>print to the console the bit masks calculated from the arguments specified to
all <a class="reference internal" href="#cmdoption-hpx-bind"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:bind</span></code></a> options.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-queuing">
<code class="descname">--hpx:queuing</code><code class="descclassname"> arg</code><a class="headerlink" href="#cmdoption-hpx-queuing" title="Permalink to this definition">¶</a></dt>
<dd><p>the queue scheduling policy to use, options are <code class="docutils literal notranslate"><span class="pre">local</span></code>,
<code class="docutils literal notranslate"><span class="pre">local-priority-fifo</span></code>, <code class="docutils literal notranslate"><span class="pre">local-priority-lifo</span></code>, <code class="docutils literal notranslate"><span class="pre">static</span></code>,
<code class="docutils literal notranslate"><span class="pre">static-priority</span></code>, <code class="docutils literal notranslate"><span class="pre">abp-priority-fifo</span></code> and <code class="docutils literal notranslate"><span class="pre">abp-priority-lifo</span></code>
(default: <code class="docutils literal notranslate"><span class="pre">local-priority-fifo</span></code>)</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-high-priority-threads">
<code class="descname">--hpx:high-priority-threads</code><code class="descclassname"> arg</code><a class="headerlink" href="#cmdoption-hpx-high-priority-threads" title="Permalink to this definition">¶</a></dt>
<dd><p>the number of operating system threads maintaining a high priority queue
(default: number of OS threads), valid for <a class="reference internal" href="#cmdoption-hpx-queuing"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:queuing</span></code></a><code class="docutils literal notranslate"><span class="pre">=abp-priority</span></code>, <a class="reference internal" href="#cmdoption-hpx-queuing"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:queuing</span></code></a><code class="docutils literal notranslate"><span class="pre">=static-priority</span></code> and
<a class="reference internal" href="#cmdoption-hpx-queuing"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:queuing</span></code></a><code class="docutils literal notranslate"><span class="pre">=local-priority</span></code> only</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-numa-sensitive">
<code class="descname">--hpx:numa-sensitive</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-hpx-numa-sensitive" title="Permalink to this definition">¶</a></dt>
<dd><p>makes the scheduler NUMA sensitive</p>
</dd></dl>

</div>
<div class="section" id="hpx-configuraton-options">
<h3><em>HPX</em> configuraton options<a class="headerlink" href="#hpx-configuraton-options" title="Permalink to this headline">¶</a></h3>
<dl class="option">
<dt id="cmdoption-hpx-app-config">
<code class="descname">--hpx:app-config</code><code class="descclassname"> arg</code><a class="headerlink" href="#cmdoption-hpx-app-config" title="Permalink to this definition">¶</a></dt>
<dd><p>load the specified application configuration (ini) file</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-config">
<code class="descname">--hpx:config</code><code class="descclassname"> arg</code><a class="headerlink" href="#cmdoption-hpx-config" title="Permalink to this definition">¶</a></dt>
<dd><p>load the specified hpx configuration (ini) file</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-ini">
<code class="descname">--hpx:ini</code><code class="descclassname"> arg</code><a class="headerlink" href="#cmdoption-hpx-ini" title="Permalink to this definition">¶</a></dt>
<dd><p>add a configuration definition to the default runtime configuration</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-exit">
<code class="descname">--hpx:exit</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-hpx-exit" title="Permalink to this definition">¶</a></dt>
<dd><p>exit after configuring the runtime</p>
</dd></dl>

</div>
<div class="section" id="hpx-debugging-options">
<h3><em>HPX</em> debugging options<a class="headerlink" href="#hpx-debugging-options" title="Permalink to this headline">¶</a></h3>
<dl class="option">
<dt id="cmdoption-hpx-list-symbolic-names">
<code class="descname">--hpx:list-symbolic-names</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-hpx-list-symbolic-names" title="Permalink to this definition">¶</a></dt>
<dd><p>list all registered symbolic names after startup</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-list-component-types">
<code class="descname">--hpx:list-component-types</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-hpx-list-component-types" title="Permalink to this definition">¶</a></dt>
<dd><p>list all dynamic component types after startup</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-dump-config-initial">
<code class="descname">--hpx:dump-config-initial</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-hpx-dump-config-initial" title="Permalink to this definition">¶</a></dt>
<dd><p>print the initial runtime configuration</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-dump-config">
<code class="descname">--hpx:dump-config</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-hpx-dump-config" title="Permalink to this definition">¶</a></dt>
<dd><p>print the final runtime configuration</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-debug-hpx-log">
<code class="descname">--hpx:debug-hpx-log</code><code class="descclassname"> [arg]</code><a class="headerlink" href="#cmdoption-hpx-debug-hpx-log" title="Permalink to this definition">¶</a></dt>
<dd><p>enable all messages on the <em>HPX</em> log channel and send all <em>HPX</em> logs to the
target destination (default: <code class="docutils literal notranslate"><span class="pre">cout</span></code>)</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-debug-agas-log">
<code class="descname">--hpx:debug-agas-log</code><code class="descclassname"> [arg]</code><a class="headerlink" href="#cmdoption-hpx-debug-agas-log" title="Permalink to this definition">¶</a></dt>
<dd><p>enable all messages on the <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a> log channel and send all <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a>
logs to the target destination (default: <code class="docutils literal notranslate"><span class="pre">cout</span></code>)</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-debug-parcel-log">
<code class="descname">--hpx:debug-parcel-log</code><code class="descclassname"> [arg]</code><a class="headerlink" href="#cmdoption-hpx-debug-parcel-log" title="Permalink to this definition">¶</a></dt>
<dd><p>enable all messages on the parcel transport log channel and send all parcel
transport logs to the target destination (default: <code class="docutils literal notranslate"><span class="pre">cout</span></code>)</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-debug-timing-log">
<code class="descname">--hpx:debug-timing-log</code><code class="descclassname"> [arg]</code><a class="headerlink" href="#cmdoption-hpx-debug-timing-log" title="Permalink to this definition">¶</a></dt>
<dd><p>enable all messages on the timing log channel and send all timing logs to the
target destination (default: <code class="docutils literal notranslate"><span class="pre">cout</span></code>)</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-debug-app-log">
<code class="descname">--hpx:debug-app-log</code><code class="descclassname"> [arg]</code><a class="headerlink" href="#cmdoption-hpx-debug-app-log" title="Permalink to this definition">¶</a></dt>
<dd><p>enable all messages on the application log channel and send all application
logs to the target destination (default: <code class="docutils literal notranslate"><span class="pre">cout</span></code>)</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-debug-clp">
<code class="descname">--hpx:debug-clp</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-hpx-debug-clp" title="Permalink to this definition">¶</a></dt>
<dd><p>debug command line processing</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-attach-debugger">
<code class="descname">--hpx:attach-debugger</code><code class="descclassname"> arg</code><a class="headerlink" href="#cmdoption-hpx-attach-debugger" title="Permalink to this definition">¶</a></dt>
<dd><p>wait for a debugger to be attached, possible arg values: <code class="docutils literal notranslate"><span class="pre">startup</span></code> or
<code class="docutils literal notranslate"><span class="pre">exception</span></code> (default: <code class="docutils literal notranslate"><span class="pre">startup</span></code>)</p>
</dd></dl>

</div>
<div class="section" id="hpx-options-related-to-performance-counters">
<h3><em>HPX</em> options related to performance counters<a class="headerlink" href="#hpx-options-related-to-performance-counters" title="Permalink to this headline">¶</a></h3>
<dl class="option">
<dt id="cmdoption-hpx-print-counter">
<code class="descname">--hpx:print-counter</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-hpx-print-counter" title="Permalink to this definition">¶</a></dt>
<dd><p>print the specified performance counter either repeatedly and/or at the times
specified by <a class="reference internal" href="#id7"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:print-counter-at</span></code></a> (see also option
<a class="reference internal" href="#cmdoption-hpx-print-counter-interval"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:print-counter-interval</span></code></a>)</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-print-counter-reset">
<code class="descname">--hpx:print-counter-reset</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-hpx-print-counter-reset" title="Permalink to this definition">¶</a></dt>
<dd><p>print the specified performance counter either repeatedly and/or at the times
specified by <a class="reference internal" href="#id7"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:print-counter-at</span></code></a> reset the counter after the
value is queried. (see also option <a class="reference internal" href="#cmdoption-hpx-print-counter-interval"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:print-counter-interval</span></code></a>)</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-print-counter-interval">
<code class="descname">--hpx:print-counter-interval</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-hpx-print-counter-interval" title="Permalink to this definition">¶</a></dt>
<dd><p>print the performance counter(s) specified with <a class="reference internal" href="#cmdoption-hpx-print-counter"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:print-counter</span></code></a>
repeatedly after the time interval (specified in milliseconds), (default:
<code class="docutils literal notranslate"><span class="pre">0</span></code>, which means print once at shutdown)</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-print-counter-destination">
<code class="descname">--hpx:print-counter-destination</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-hpx-print-counter-destination" title="Permalink to this definition">¶</a></dt>
<dd><p>print the performance counter(s) specified with <a class="reference internal" href="#cmdoption-hpx-print-counter"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:print-counter</span></code></a> to
the given file (default: <code class="docutils literal notranslate"><span class="pre">console</span></code>)</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-list-counters">
<code class="descname">--hpx:list-counters</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-hpx-list-counters" title="Permalink to this definition">¶</a></dt>
<dd><p>list the names of all registered performance counters, possible values:
<code class="docutils literal notranslate"><span class="pre">minimal</span></code> (prints counter name skeletons), <code class="docutils literal notranslate"><span class="pre">full</span></code> (prints all available
counter names)</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-list-counter-infos">
<code class="descname">--hpx:list-counter-infos</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-hpx-list-counter-infos" title="Permalink to this definition">¶</a></dt>
<dd><p>list the description of all registered performance counters, possible values:
<code class="docutils literal notranslate"><span class="pre">minimal</span></code> (prints info for counter name skeletons), <code class="docutils literal notranslate"><span class="pre">full</span></code> (prints all
available counter infos)</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-print-counter-format">
<code class="descname">--hpx:print-counter-format</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-hpx-print-counter-format" title="Permalink to this definition">¶</a></dt>
<dd><p>print the performance counter(s) specified with <a class="reference internal" href="#cmdoption-hpx-print-counter"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:print-counter</span></code></a>
possible formats in csv format with header or without any header (see option
<a class="reference internal" href="#cmdoption-hpx-no-csv-header"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:no-csv-header</span></code></a>, possible values: <code class="docutils literal notranslate"><span class="pre">csv</span></code> (prints counter
values in CSV format with full names as header), <code class="docutils literal notranslate"><span class="pre">csv-short</span></code> (prints
counter values in CSV format with shortnames provided with
<a class="reference internal" href="#cmdoption-hpx-print-counter"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:print-counter</span></code></a> as <a class="reference internal" href="#cmdoption-hpx-print-counter"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:print-counter</span></code></a>
<code class="docutils literal notranslate"><span class="pre">shortname,full-countername</span></code></p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-no-csv-header">
<code class="descname">--hpx:no-csv-header</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-hpx-no-csv-header" title="Permalink to this definition">¶</a></dt>
<dd><p>print the performance counter(s) specified with <a class="reference internal" href="#cmdoption-hpx-print-counter"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:print-counter</span></code></a>
and <code class="docutils literal notranslate"><span class="pre">csv</span></code> or <code class="docutils literal notranslate"><span class="pre">csv-short</span></code> format specified with
<a class="reference internal" href="#cmdoption-hpx-print-counter-format"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:print-counter-format</span></code></a> without header</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-print-counter-at">
<code class="descname">--hpx:print-counter-at</code><code class="descclassname"> arg</code><a class="headerlink" href="#cmdoption-hpx-print-counter-at" title="Permalink to this definition">¶</a></dt>
<dd><p>print the performance counter(s) specified with <a class="reference internal" href="#cmdoption-hpx-print-counter"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:print-counter</span></code></a>
(or <a class="reference internal" href="#cmdoption-hpx-print-counter-reset"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:print-counter-reset</span></code></a> at the given point in time, possible
argument values: <code class="docutils literal notranslate"><span class="pre">startup</span></code>, <code class="docutils literal notranslate"><span class="pre">shutdown</span></code> (default), <code class="docutils literal notranslate"><span class="pre">noshutdown</span></code></p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-reset-counters">
<code class="descname">--hpx:reset-counters</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-hpx-reset-counters" title="Permalink to this definition">¶</a></dt>
<dd><p>reset all performance counter(s) specified with <a class="reference internal" href="#cmdoption-hpx-print-counter"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:print-counter</span></code></a>
after they have been evaluated.</p>
</dd></dl>

<dl class="option">
<dt id="id7">
<code class="descname">--hpx:print-counter-at</code><code class="descclassname"></code><a class="headerlink" href="#id7" title="Permalink to this definition">¶</a></dt>
<dd><p>print the performance counter(s) specified with <a class="reference internal" href="#cmdoption-hpx-print-counter"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:print-counter</span></code></a>
(or <a class="reference internal" href="#cmdoption-hpx-print-counter-reset"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:print-counter-reset</span></code></a> at the given point in time, possible
argument are values: <code class="docutils literal notranslate"><span class="pre">startup</span></code>, <code class="docutils literal notranslate"><span class="pre">shutdown</span></code> (default), <code class="docutils literal notranslate"><span class="pre">noshutdown</span></code>.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hpx-print-counters-locally">
<code class="descname">--hpx:print-counters-locally</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-hpx-print-counters-locally" title="Permalink to this definition">¶</a></dt>
<dd><p>Each <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> prints only its own local counters. If this is used
with <a class="reference internal" href="#cmdoption-hpx-print-counter-destination"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:print-counter-destination</span></code></a><code class="docutils literal notranslate"><span class="pre">=&lt;file&gt;</span></code>, the code will
append a <code class="docutils literal notranslate"><span class="pre">&quot;.&lt;locality_id&gt;&quot;</span></code> to the file name in order to avoid clashes
between localities.</p>
</dd></dl>

</div>
<div class="section" id="command-line-argument-shortcuts">
<h3>Command line argument shortcuts<a class="headerlink" href="#command-line-argument-shortcuts" title="Permalink to this headline">¶</a></h3>
<p>Additionally, the following shortcuts are available from every <em>HPX</em>
application.</p>
<table border="1" class="docutils" id="id13">
<caption><span class="caption-number">Table 22 </span><span class="caption-text">Predefined command line option shortcuts</span><a class="headerlink" href="#id13" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Shortcut option</th>
<th class="head">Equivalent long option</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">-a</span></code></td>
<td><a class="reference internal" href="#cmdoption-hpx-agas"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:agas</span></code></a></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">-c</span></code></td>
<td><a class="reference internal" href="#cmdoption-hpx-console"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:console</span></code></a></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">-h</span></code></td>
<td><a class="reference internal" href="#cmdoption-hpx-help"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:help</span></code></a></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">-I</span></code></td>
<td><a class="reference internal" href="#cmdoption-hpx-ini"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:ini</span></code></a></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">-l</span></code></td>
<td><a class="reference internal" href="#cmdoption-hpx-localities"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:localities</span></code></a></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">-p</span></code></td>
<td><a class="reference internal" href="#cmdoption-hpx-app-config"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:app-config</span></code></a></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">-q</span></code></td>
<td><a class="reference internal" href="#cmdoption-hpx-queuing"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:queuing</span></code></a></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">-r</span></code></td>
<td><a class="reference internal" href="#cmdoption-hpx-run-agas-server"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:run-agas-server</span></code></a></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">-t</span></code></td>
<td><a class="reference internal" href="#cmdoption-hpx-threads"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:threads</span></code></a></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">-v</span></code></td>
<td><a class="reference internal" href="#cmdoption-hpx-version"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:version</span></code></a></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">-w</span></code></td>
<td><a class="reference internal" href="#cmdoption-hpx-worker"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:worker</span></code></a></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">-x</span></code></td>
<td><a class="reference internal" href="#cmdoption-hpx-hpx"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:hpx</span></code></a></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">-0</span></code></td>
<td><a class="reference internal" href="#cmdoption-hpx-node"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:node</span></code></a><code class="docutils literal notranslate"><span class="pre">=0</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">-1</span></code></td>
<td><a class="reference internal" href="#cmdoption-hpx-node"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:node</span></code></a><code class="docutils literal notranslate"><span class="pre">=1</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">-2</span></code></td>
<td><a class="reference internal" href="#cmdoption-hpx-node"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:node</span></code></a><code class="docutils literal notranslate"><span class="pre">=2</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">-3</span></code></td>
<td><a class="reference internal" href="#cmdoption-hpx-node"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:node</span></code></a><code class="docutils literal notranslate"><span class="pre">=3</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">-4</span></code></td>
<td><a class="reference internal" href="#cmdoption-hpx-node"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:node</span></code></a><code class="docutils literal notranslate"><span class="pre">=4</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">-5</span></code></td>
<td><a class="reference internal" href="#cmdoption-hpx-node"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:node</span></code></a><code class="docutils literal notranslate"><span class="pre">=5</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">-6</span></code></td>
<td><a class="reference internal" href="#cmdoption-hpx-node"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:node</span></code></a><code class="docutils literal notranslate"><span class="pre">=6</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">-7</span></code></td>
<td><a class="reference internal" href="#cmdoption-hpx-node"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:node</span></code></a><code class="docutils literal notranslate"><span class="pre">=7</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">-8</span></code></td>
<td><a class="reference internal" href="#cmdoption-hpx-node"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:node</span></code></a><code class="docutils literal notranslate"><span class="pre">=8</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">-9</span></code></td>
<td><a class="reference internal" href="#cmdoption-hpx-node"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:node</span></code></a><code class="docutils literal notranslate"><span class="pre">=9</span></code></td>
</tr>
</tbody>
</table>
<p>It is possible to define your own shortcut options. In fact, all of the
shortcuts listed above are pre-defined using the technique described here. Also,
it is possible to redefine any of the pre-defined shortcuts to expand
differently as well.</p>
<p>Shortcut options are obtained from the internal configuration database. They are
stored as key-value properties in a special properties section named
<code class="docutils literal notranslate"><span class="pre">hpx.commandline</span></code>. You can define your own shortcuts by adding the
corresponding definitions to one of the <code class="docutils literal notranslate"><span class="pre">ini</span></code> configuration files as described
in the section <a class="reference internal" href="#configuration"><span class="std std-ref">Configuring HPX applications</span></a>. For instance, in order to define a command
line shortcut <code class="docutils literal notranslate"><span class="pre">--p</span></code> which should expand to <code class="docutils literal notranslate"><span class="pre">-hpx:print-counter</span></code>, the
following configuration information needs to be added to one of the <code class="docutils literal notranslate"><span class="pre">ini</span></code>
configuration files:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[hpx.commandline.aliases]</span>
<span class="na">--pc</span> <span class="o">=</span> <span class="s">--hpx:print-counter</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Any arguments for shortcut options passed on the command line are retained
and passed as arguments to the corresponding expanded option. For instance,
given the definition above, the command line option:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>--pc<span class="o">=</span>/threads<span class="o">{</span>locality#0/total<span class="o">}</span>/count/cumulative
</pre></div>
</div>
<p>would be expanded to:</p>
<div class="last highlight-bash notranslate"><div class="highlight"><pre><span></span>--hpx:print-counter<span class="o">=</span>/threads<span class="o">{</span>locality#0/total<span class="o">}</span>/count/cumulative
</pre></div>
</div>
</div>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">Any shortcut option should either start with a single <code class="docutils literal notranslate"><span class="pre">'-'</span></code> or with two
<code class="docutils literal notranslate"><span class="pre">'--'</span></code> characters. Shortcuts starting with a single <code class="docutils literal notranslate"><span class="pre">'-'</span></code> are interpreted
as short options (i.e. everything after the first character following the
<code class="docutils literal notranslate"><span class="pre">'-'</span></code> is treated as the argument). Shortcuts starting with <code class="docutils literal notranslate"><span class="pre">'--'</span></code> are
interpreted as long options. No other shortcut formats are supported.</p>
</div>
</div>
<div class="section" id="specifying-options-for-single-localities-only">
<h3>Specifying options for single localities only<a class="headerlink" href="#specifying-options-for-single-localities-only" title="Permalink to this headline">¶</a></h3>
<p>For runs involving more than one <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> it is sometimes desirable to
supply specific command line options to single localities only. When the <em>HPX</em>
application is launched using a scheduler (like PBS, for more details see
section <a class="reference internal" href="running_on_batch_systems.html#unix-pbs"><span class="std std-ref">How to use HPX applications with PBS</span></a>), specifying dedicated command line options for single
localities may be desirable. For this reason all of the command line options
which have the general format <code class="docutils literal notranslate"><span class="pre">--hpx:&lt;some_key&gt;</span></code> can be used in a more general
form: <code class="docutils literal notranslate"><span class="pre">--hpx:&lt;N&gt;:&lt;some_key&gt;</span></code>, where &lt;N&gt; is the number of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>
this command line options will be applied to, all other localities will simply
ignore the option. For instance, the following PBS script passes the option
<a class="reference internal" href="#cmdoption-hpx-pu-offset"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:pu-offset</span></code></a><code class="docutils literal notranslate"><span class="pre">=4</span></code> to the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> <code class="docutils literal notranslate"><span class="pre">'1'</span></code> only.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="c1">#</span>
<span class="c1">#PBS -l nodes=2:ppn=4</span>

<span class="nv">APP_PATH</span><span class="o">=</span>~/packages/hpx/bin/hello_world
<span class="nv">APP_OPTIONS</span><span class="o">=</span>

pbsdsh -u <span class="nv">$APP_PATH</span> <span class="nv">$APP_OPTIONS</span> --hpx:1:pu-offset<span class="o">=</span><span class="m">4</span> --hpx:nodes<span class="o">=</span><span class="sb">`</span>cat <span class="nv">$PBS_NODEFILE</span><span class="sb">`</span>
</pre></div>
</div>
<div class="admonition caution">
<p class="first admonition-title">Caution</p>
<p>If the first application specific argument (inside``$APP_OPTIONS`` is a
non-option (i.e. does not start with a <code class="docutils literal notranslate"><span class="pre">-</span></code> or a <code class="docutils literal notranslate"><span class="pre">--</span></code>, then it must be
placed before the option <a class="reference internal" href="#cmdoption-hpx-nodes"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:nodes</span></code></a>, which, in this case,
should be the last option on the command line.</p>
<p>Alternatively, use the option <a class="reference internal" href="#cmdoption-hpx-endnodes"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:endnodes</span></code></a> to explicitly
mark the end of the list of node names:</p>
<div class="last highlight-bash notranslate"><div class="highlight"><pre><span></span>pbsdsh -u <span class="nv">$APP_PATH</span> --hpx:1:pu-offset<span class="o">=</span><span class="m">4</span> --hpx:nodes<span class="o">=</span><span class="sb">`</span>cat <span class="nv">$PBS_NODEFILE</span><span class="sb">`</span> --hpx:endnodes <span class="nv">$APP_OPTIONS</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="more-details-about-hpx-command-line-options">
<span id="details"></span><h3>More details about <em>HPX</em> command line options<a class="headerlink" href="#more-details-about-hpx-command-line-options" title="Permalink to this headline">¶</a></h3>
<p>This section documents the following list of the command line options in more
detail:</p>
<ul class="simple">
<li><a class="reference internal" href="#bind"><span class="std std-ref">The command line option --hpx:bind</span></a></li>
</ul>
<div class="section" id="the-command-line-option-hpx-bind">
<span id="bind"></span><h4>The command line option <a class="reference internal" href="#cmdoption-hpx-bind"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:bind</span></code></a><a class="headerlink" href="#the-command-line-option-hpx-bind" title="Permalink to this headline">¶</a></h4>
<p>This command line option allows one to specify the required affinity of the
<em>HPX</em> worker threads to the underlying processing units. As a result the worker
threads will run only on the processing units identified by the corresponding
bind specification. The affinity settings are to be specified using
<a class="reference internal" href="#cmdoption-hpx-bind"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:bind</span></code></a><code class="docutils literal notranslate"><span class="pre">=&lt;BINDINGS&gt;</span></code>, where <code class="docutils literal notranslate"><span class="pre">&lt;BINDINGS&gt;</span></code> have to be formatted as
described below.</p>
<p>In addition to the syntax described below one can use <a class="reference internal" href="#cmdoption-hpx-bind"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:bind</span></code></a><code class="docutils literal notranslate"><span class="pre">=none</span></code> to disable all binding of any threads to a particular core. This is
mostly supported for debugging purposes.</p>
<p>The specified affinities refer to specific regions within a machine hardware
topology. In order to understand the hardware topology of a particular machine
it may be useful to run the lstopo tool which is part of Portable Hardware Locality (HWLOC) to see the
reported topology tree. Seeing and understanding a topology tree will definitely
help in understanding the concepts that are discussed below.</p>
<p>Affinities can be specified using HWLOC (Portable Hardware Locality (HWLOC)) tuples. Tuples of HWLOC
<em>objects</em> and associated <em>indexes</em> can be specified in the form
<code class="docutils literal notranslate"><span class="pre">object:index</span></code>, <code class="docutils literal notranslate"><span class="pre">object:index-index</span></code> or <code class="docutils literal notranslate"><span class="pre">object:index,...,index</span></code>. HWLOC
objects represent types of mapped items in a topology tree. Possible values for
objects are <code class="docutils literal notranslate"><span class="pre">socket</span></code>, <code class="docutils literal notranslate"><span class="pre">numanode</span></code>, <code class="docutils literal notranslate"><span class="pre">core</span></code> and <code class="docutils literal notranslate"><span class="pre">pu</span></code> (processing unit).
Indexes are non-negative integers that specify a unique physical object in a
topology tree using its logical sequence number.</p>
<p>Chaining multiple tuples together in the more general form
<code class="docutils literal notranslate"><span class="pre">object1:index1[.object2:index2[...]]</span></code> is permissible. While the first tuple’s
object may appear anywhere in the topology, the Nth tuple’s object must have a
shallower topology depth than the (N+1)th tuple’s object. Put simply: as you
move right in a tuple chain, objects must go deeper in the topology tree.
Indexes specified in chained tuples are relative to the scope of the parent
object. For example, <code class="docutils literal notranslate"><span class="pre">socket:0.core:1</span></code> refers to the second core in the first
socket (all indices are zero based).</p>
<p>Multiple affinities can be specified using several <a class="reference internal" href="#cmdoption-hpx-bind"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:bind</span></code></a> command
line options or by appending several affinities separated by a <code class="docutils literal notranslate"><span class="pre">';'</span></code> By
default, if multiple affinities are specified, they are added.</p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;all&quot;</span></code> is a special affinity consisting in the entire current topology.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">All ‘names’ in an affinity specification, such as <code class="docutils literal notranslate"><span class="pre">thread</span></code>, <code class="docutils literal notranslate"><span class="pre">socket</span></code>,
<code class="docutils literal notranslate"><span class="pre">numanode</span></code>, <code class="docutils literal notranslate"><span class="pre">pu</span></code> or <code class="docutils literal notranslate"><span class="pre">all</span></code> can be abbreviated. Thus the affinity
specification <code class="docutils literal notranslate"><span class="pre">threads:0-3=socket:0.core:1.pu:1</span></code> is fully equivalent to its
shortened form <code class="docutils literal notranslate"><span class="pre">t:0-3=s:0.c:1.p:1</span></code>.</p>
</div>
<p>Here is a full grammar describing the possible format of mappings:</p>
<pre>
<strong id="grammar-token-mappings">mappings    </strong> ::=  <a class="reference internal" href="#grammar-token-distribution"><code class="xref docutils literal notranslate"><span class="pre">distribution</span></code></a> | <a class="reference internal" href="#grammar-token-mapping"><code class="xref docutils literal notranslate"><span class="pre">mapping</span></code></a> (&quot;;&quot; <a class="reference internal" href="#grammar-token-mapping"><code class="xref docutils literal notranslate"><span class="pre">mapping</span></code></a>)*
<strong id="grammar-token-distribution">distribution</strong> ::=  &quot;compact&quot; | &quot;scatter&quot; | &quot;balanced&quot; | &quot;numa-balanced&quot;
<strong id="grammar-token-mapping">mapping     </strong> ::=  <a class="reference internal" href="#grammar-token-thread_spec"><code class="xref docutils literal notranslate"><span class="pre">thread_spec</span></code></a> &quot;=&quot; <a class="reference internal" href="#grammar-token-pu_specs"><code class="xref docutils literal notranslate"><span class="pre">pu_specs</span></code></a>
<strong id="grammar-token-thread_spec">thread_spec </strong> ::=  &quot;thread:&quot; <a class="reference internal" href="#grammar-token-range_specs"><code class="xref docutils literal notranslate"><span class="pre">range_specs</span></code></a>
<strong id="grammar-token-pu_specs">pu_specs    </strong> ::=  <a class="reference internal" href="#grammar-token-pu_spec"><code class="xref docutils literal notranslate"><span class="pre">pu_spec</span></code></a> (&quot;.&quot; <a class="reference internal" href="#grammar-token-pu_spec"><code class="xref docutils literal notranslate"><span class="pre">pu_spec</span></code></a>)*
<strong id="grammar-token-pu_spec">pu_spec     </strong> ::=  <a class="reference internal" href="#grammar-token-type"><code class="xref docutils literal notranslate"><span class="pre">type</span></code></a> &quot;:&quot; <a class="reference internal" href="#grammar-token-range_specs"><code class="xref docutils literal notranslate"><span class="pre">range_specs</span></code></a> | &quot;~&quot; <a class="reference internal" href="#grammar-token-pu_spec"><code class="xref docutils literal notranslate"><span class="pre">pu_spec</span></code></a>
<strong id="grammar-token-range_specs">range_specs </strong> ::=  <a class="reference internal" href="#grammar-token-range_spec"><code class="xref docutils literal notranslate"><span class="pre">range_spec</span></code></a> (&quot;,&quot; <a class="reference internal" href="#grammar-token-range_spec"><code class="xref docutils literal notranslate"><span class="pre">range_spec</span></code></a>)*
<strong id="grammar-token-range_spec">range_spec  </strong> ::=  int | int &quot;-&quot; int | &quot;all&quot;
<strong id="grammar-token-type">type        </strong> ::=  &quot;socket&quot; | &quot;numanode&quot; | &quot;core&quot; | &quot;pu&quot;
</pre>
<p>The following example assumes a system with at least 4 cores, where each core
has more than 1 processing unit (hardware threads). Running hello_world with 4
OS-threads (on 4 processing units), where each of those threads is bound to the
first processing unit of each of the cores, can be achieved by invoking:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>hello_world -t4 --hpx:bind<span class="o">=</span>thread:0-3<span class="o">=</span>core:0-3.pu:0
</pre></div>
</div>
<p>Here <code class="docutils literal notranslate"><span class="pre">thread:0-3</span></code> specifies the OS threads for which to define affinity
bindings, and <code class="docutils literal notranslate"><span class="pre">core:0-3.pu:</span></code> defines that for each of the cores (<code class="docutils literal notranslate"><span class="pre">core:0-3</span></code>)
only their first processing unit <code class="docutils literal notranslate"><span class="pre">pu:0</span></code> should be used.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The command line option <a class="reference internal" href="#cmdoption-hpx-print-bind"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:print-bind</span></code></a> can be used to print the
bitmasks generated from the affinity mappings as specified with
<a class="reference internal" href="#cmdoption-hpx-bind"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:bind</span></code></a>. For instance, on a system with hyperthreading enabled
(i.e. 2 processing units per core), the command line:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>hello_world -t4 --hpx:bind<span class="o">=</span>thread:0-3<span class="o">=</span>core:0-3.pu:0 --hpx:print-bind
</pre></div>
</div>
<p>will cause this output to be printed:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>0: PU L#0(P#0), Core L#0, Socket L#0, Node L#0(P#0)
1: PU L#2(P#2), Core L#1, Socket L#0, Node L#0(P#0)
2: PU L#4(P#4), Core L#2, Socket L#0, Node L#0(P#0)
3: PU L#6(P#6), Core L#3, Socket L#0, Node L#0(P#0)
</pre></div>
</div>
<p class="last">where each bit in the bitmasks corresponds to a processing unit the listed
worker thread will be bound to run on.</p>
</div>
<p>The difference between the four possible predefined distribution schemes
(<code class="docutils literal notranslate"><span class="pre">compact</span></code>, <code class="docutils literal notranslate"><span class="pre">scatter</span></code>, <code class="docutils literal notranslate"><span class="pre">balanced</span></code> and <code class="docutils literal notranslate"><span class="pre">numa-balanced</span></code>) is best explained
with an example. Imagine that we have a system with 4 cores and 4 hardware
threads per core on 2 sockets. If we place 8 threads the assignments produced by
the <code class="docutils literal notranslate"><span class="pre">compact</span></code>, <code class="docutils literal notranslate"><span class="pre">scatter</span></code>, <code class="docutils literal notranslate"><span class="pre">balanced</span></code> and <code class="docutils literal notranslate"><span class="pre">numa-balanced</span></code> types are shown
in the figure below. Notice that <code class="docutils literal notranslate"><span class="pre">compact</span></code> does not fully utilize all the
cores in the system. For this reason it is recommended that applications are run
using the <code class="docutils literal notranslate"><span class="pre">scatter</span></code> or <code class="docutils literal notranslate"><span class="pre">balanced</span></code>/<code class="docutils literal notranslate"><span class="pre">numa-balanced</span></code> options in most cases.</p>
<div class="figure" id="id14">
<span id="commandline-affinities"></span><img alt="../_images/affinities.png" src="../_images/affinities.png" />
<p class="caption"><span class="caption-number">Fig. 7 </span><span class="caption-text">Schematic of thread affinity type distributions.</span></p>
</div>
<table class="docutils footnote" frame="void" id="id8" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id6">[1]</a></td><td>The phase of a <em>HPX</em>-thread counts how often this thread has been
activated.</td></tr>
</tbody>
</table>
</div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <!-- Copyright (c) 2018 Mikael Simberg

     Distributed under the Boost Software License, Version 1.0. (See accompanying
     file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt) -->
<!-- Make HPX inspect tool happy: hpxinspect:nounlinked -->

<footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="writing_single_node_hpx_applications.html" class="btn btn-neutral float-right" title="Writing single-node HPX applications" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="starting_the_hpx_runtime.html" class="btn btn-neutral" title="Starting the HPX runtime" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2008-2018, The Ste||ar Group.
      
        <span class="commit">
          Revision <code>f52dc95</code>.
        </span>
      

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
 

Distributed under the Boost Software License, Version 1.0. (See accompanying file
LICENSE_1_0.txt or copy at
<a href="http://www.boost.org/LICENSE_1_0.txt">http://www.boost.org/LICENSE_1_0.txt</a>)



</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.2.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>